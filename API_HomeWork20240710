2024-07-10 10:06:08.373 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-10 10:06:08.577 +03:00 [DBG] Hosting starting
2024-07-10 10:06:08.709 +03:00 [INF] User profile is available. Using 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-10 10:06:08.720 +03:00 [DBG] Reading data from file 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys\key-ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc.xml'.
2024-07-10 10:06:08.773 +03:00 [DBG] Found key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc}.
2024-07-10 10:06:08.787 +03:00 [DBG] Considering key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} with expiration date 2024-10-06 16:05:45Z as default key.
2024-07-10 10:06:08.792 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 10:06:08.796 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-10 10:06:08.799 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 10:06:08.806 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-10 10:06:08.809 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-10 10:06:08.812 +03:00 [DBG] Using key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} as the default key.
2024-07-10 10:06:08.814 +03:00 [DBG] Key ring with default key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} was loaded during application startup.
2024-07-10 10:06:10.146 +03:00 [INF] Now listening on: https://localhost:7018
2024-07-10 10:06:10.148 +03:00 [INF] Now listening on: http://localhost:5033
2024-07-10 10:06:10.149 +03:00 [DBG] Loaded hosting startup assembly API_HomeWork
2024-07-10 10:06:10.150 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-10 10:06:10.152 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-10 10:06:10.153 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-10 10:06:10.154 +03:00 [INF] Hosting environment: Development
2024-07-10 10:06:10.156 +03:00 [INF] Content root path: C:\Users\Abdal\source\repos\API_HomeWork_Abdallah\API_HomeWork
2024-07-10 10:06:10.157 +03:00 [DBG] Hosting started
2024-07-10 10:06:10.354 +03:00 [DBG] Connection id "0HN50LR3GAGO1" accepted.
2024-07-10 10:06:10.356 +03:00 [DBG] Connection id "0HN50LR3GAGO1" started.
2024-07-10 10:06:10.421 +03:00 [DBG] Connection id "0HN50LR3GAGO2" accepted.
2024-07-10 10:06:10.423 +03:00 [DBG] Connection id "0HN50LR3GAGO2" started.
2024-07-10 10:06:11.559 +03:00 [DBG] Connection id "0HN50LR3GAGO3" accepted.
2024-07-10 10:06:11.563 +03:00 [DBG] Connection id "0HN50LR3GAGO3" started.
2024-07-10 10:06:11.649 +03:00 [DBG] Connection 0HN50LR3GAGO3 established using the following protocol: "Tls13"
2024-07-10 10:06:11.828 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/index.html - null null
2024-07-10 10:06:12.123 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-10 10:06:12.154 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-10 10:06:12.155 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:06:12.262 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-10 10:06:12.265 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-10 10:06:12.292 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-10 10:06:12.295 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-10 10:06:12.300 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/index.html - 200 null text/html;charset=utf-8 494.0902ms
2024-07-10 10:06:12.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - null null
2024-07-10 10:06:12.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_vs/browserLink - null null
2024-07-10 10:06:12.362 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 29.6601ms
2024-07-10 10:06:12.465 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_vs/browserLink - 200 null text/javascript; charset=UTF-8 132.66ms
2024-07-10 10:06:12.602 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - null null
2024-07-10 10:06:12.605 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-10 10:06:12.607 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:06:12.851 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Conflicting method/path combination "GET api/Hotels" for actions - API_HomeWork.Controllers.HotelsController.GetHotels (API_HomeWork),API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork). Actions require a unique method/path combination for Swagger/OpenAPI 3.0. Use ConflictingActionsResolver as a workaround
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-07-10 10:06:13.071 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 470.4654ms
2024-07-10 10:06:15.967 +03:00 [DBG] Connection id "0HN50LR3GAGO3" received FIN.
2024-07-10 10:06:15.972 +03:00 [DBG] The connection queue processing loop for 0HN50LR3GAGO3 completed.
2024-07-10 10:06:15.976 +03:00 [DBG] Connection id "0HN50LR3GAGO3" is closed. The last processed stream ID was 7.
2024-07-10 10:06:15.978 +03:00 [DBG] Connection id "0HN50LR3GAGO3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:06:15.999 +03:00 [DBG] Connection id "0HN50LR3GAGO3" stopped.
2024-07-10 10:06:55.837 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-10 10:06:55.987 +03:00 [DBG] Hosting starting
2024-07-10 10:06:56.032 +03:00 [INF] User profile is available. Using 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-10 10:06:56.044 +03:00 [DBG] Reading data from file 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys\key-ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc.xml'.
2024-07-10 10:06:56.074 +03:00 [DBG] Found key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc}.
2024-07-10 10:06:56.094 +03:00 [DBG] Considering key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} with expiration date 2024-10-06 16:05:45Z as default key.
2024-07-10 10:06:56.102 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 10:06:56.109 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-10 10:06:56.113 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 10:06:56.121 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-10 10:06:56.126 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-10 10:06:56.130 +03:00 [DBG] Using key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} as the default key.
2024-07-10 10:06:56.133 +03:00 [DBG] Key ring with default key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} was loaded during application startup.
2024-07-10 10:06:56.440 +03:00 [INF] Now listening on: https://localhost:7018
2024-07-10 10:06:56.442 +03:00 [INF] Now listening on: http://localhost:5033
2024-07-10 10:06:56.443 +03:00 [DBG] Loaded hosting startup assembly API_HomeWork
2024-07-10 10:06:56.444 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-10 10:06:56.445 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-10 10:06:56.447 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-10 10:06:56.448 +03:00 [INF] Hosting environment: Development
2024-07-10 10:06:56.449 +03:00 [INF] Content root path: C:\Users\Abdal\source\repos\API_HomeWork_Abdallah\API_HomeWork
2024-07-10 10:06:56.450 +03:00 [DBG] Hosting started
2024-07-10 10:06:56.662 +03:00 [DBG] Connection id "0HN50LRH9UNUJ" accepted.
2024-07-10 10:06:56.664 +03:00 [DBG] Connection id "0HN50LRH9UNUK" accepted.
2024-07-10 10:06:56.664 +03:00 [DBG] Connection id "0HN50LRH9UNUJ" started.
2024-07-10 10:06:56.665 +03:00 [DBG] Connection id "0HN50LRH9UNUK" started.
2024-07-10 10:06:56.689 +03:00 [DBG] Connection id "0HN50LRH9UNUJ" received FIN.
2024-07-10 10:06:56.689 +03:00 [DBG] Connection id "0HN50LRH9UNUK" received FIN.
2024-07-10 10:06:56.705 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 10:06:56.705 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 10:06:56.761 +03:00 [DBG] Connection id "0HN50LRH9UNUJ" stopped.
2024-07-10 10:06:56.761 +03:00 [DBG] Connection id "0HN50LRH9UNUK" stopped.
2024-07-10 10:06:56.765 +03:00 [DBG] Connection id "0HN50LRH9UNUJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:06:56.765 +03:00 [DBG] Connection id "0HN50LRH9UNUK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:06:57.297 +03:00 [DBG] Connection id "0HN50LRH9UNUL" accepted.
2024-07-10 10:06:57.300 +03:00 [DBG] Connection id "0HN50LRH9UNUL" started.
2024-07-10 10:06:57.386 +03:00 [DBG] Connection 0HN50LRH9UNUL established using the following protocol: "Tls13"
2024-07-10 10:06:57.526 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/index.html - null null
2024-07-10 10:06:57.683 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-10 10:06:57.717 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-10 10:06:57.720 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:06:57.832 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-10 10:06:57.835 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-10 10:06:57.872 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-10 10:06:57.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_vs/browserLink - null null
2024-07-10 10:06:57.873 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - null null
2024-07-10 10:06:57.876 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-10 10:06:57.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/index.html - 200 null text/html;charset=utf-8 370.6895ms
2024-07-10 10:06:57.897 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 24.0189ms
2024-07-10 10:06:57.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.9499ms
2024-07-10 10:06:58.074 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - null null
2024-07-10 10:06:58.077 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-10 10:06:58.079 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:06:58.381 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 307.2216ms
2024-07-10 10:07:01.042 +03:00 [DBG] Connection id "0HN50LRH9UNUL" received FIN.
2024-07-10 10:07:01.048 +03:00 [DBG] The connection queue processing loop for 0HN50LRH9UNUL completed.
2024-07-10 10:07:01.053 +03:00 [DBG] Connection id "0HN50LRH9UNUL" is closed. The last processed stream ID was 7.
2024-07-10 10:07:01.055 +03:00 [DBG] Connection id "0HN50LRH9UNUL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:07:01.068 +03:00 [DBG] Connection id "0HN50LRH9UNUL" stopped.
2024-07-10 10:07:41.474 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-10 10:07:41.633 +03:00 [DBG] Hosting starting
2024-07-10 10:07:41.675 +03:00 [INF] User profile is available. Using 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-10 10:07:41.685 +03:00 [DBG] Reading data from file 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys\key-ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc.xml'.
2024-07-10 10:07:41.712 +03:00 [DBG] Found key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc}.
2024-07-10 10:07:41.733 +03:00 [DBG] Considering key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} with expiration date 2024-10-06 16:05:45Z as default key.
2024-07-10 10:07:41.738 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 10:07:41.742 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-10 10:07:41.745 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 10:07:41.752 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-10 10:07:41.755 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-10 10:07:41.758 +03:00 [DBG] Using key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} as the default key.
2024-07-10 10:07:41.761 +03:00 [DBG] Key ring with default key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} was loaded during application startup.
2024-07-10 10:07:42.054 +03:00 [INF] Now listening on: https://localhost:7018
2024-07-10 10:07:42.055 +03:00 [INF] Now listening on: http://localhost:5033
2024-07-10 10:07:42.056 +03:00 [DBG] Loaded hosting startup assembly API_HomeWork
2024-07-10 10:07:42.057 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-10 10:07:42.058 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-10 10:07:42.060 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-10 10:07:42.061 +03:00 [INF] Hosting environment: Development
2024-07-10 10:07:42.062 +03:00 [INF] Content root path: C:\Users\Abdal\source\repos\API_HomeWork_Abdallah\API_HomeWork
2024-07-10 10:07:42.063 +03:00 [DBG] Hosting started
2024-07-10 10:07:42.246 +03:00 [DBG] Connection id "0HN50LRUSLTP2" received FIN.
2024-07-10 10:07:42.256 +03:00 [DBG] Connection id "0HN50LRUSLTP2" accepted.
2024-07-10 10:07:42.259 +03:00 [DBG] Connection id "0HN50LRUSLTP2" started.
2024-07-10 10:07:42.292 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 10:07:42.609 +03:00 [DBG] Connection id "0HN50LRUSLTP2" stopped.
2024-07-10 10:07:42.614 +03:00 [DBG] Connection id "0HN50LRUSLTP2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:07:42.787 +03:00 [DBG] Connection id "0HN50LRUSLTP3" accepted.
2024-07-10 10:07:42.791 +03:00 [DBG] Connection id "0HN50LRUSLTP3" started.
2024-07-10 10:07:42.888 +03:00 [DBG] Connection 0HN50LRUSLTP3 established using the following protocol: "Tls13"
2024-07-10 10:07:42.991 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/index.html - null null
2024-07-10 10:07:43.194 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-10 10:07:43.221 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-10 10:07:43.223 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:07:43.334 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-10 10:07:43.337 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-10 10:07:43.369 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-10 10:07:43.372 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-10 10:07:43.380 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/index.html - 200 null text/html;charset=utf-8 395.5949ms
2024-07-10 10:07:43.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_vs/browserLink - null null
2024-07-10 10:07:43.391 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - null null
2024-07-10 10:07:43.432 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 41.5351ms
2024-07-10 10:07:43.496 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_vs/browserLink - 200 null text/javascript; charset=UTF-8 106.0131ms
2024-07-10 10:07:43.604 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - null null
2024-07-10 10:07:43.608 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-10 10:07:43.610 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:07:43.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.7135ms
2024-07-10 10:07:46.107 +03:00 [DBG] Connection id "0HN50LRUSLTP3" received FIN.
2024-07-10 10:07:46.114 +03:00 [DBG] The connection queue processing loop for 0HN50LRUSLTP3 completed.
2024-07-10 10:07:46.118 +03:00 [DBG] Connection id "0HN50LRUSLTP3" is closed. The last processed stream ID was 7.
2024-07-10 10:07:46.120 +03:00 [DBG] Connection id "0HN50LRUSLTP3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:07:46.134 +03:00 [DBG] Connection id "0HN50LRUSLTP3" stopped.
2024-07-10 10:08:17.903 +03:00 [DBG] Connection id "0HN50LRUSLTP4" received FIN.
2024-07-10 10:08:17.914 +03:00 [DBG] Connection id "0HN50LRUSLTP4" accepted.
2024-07-10 10:08:17.916 +03:00 [DBG] Connection id "0HN50LRUSLTP4" started.
2024-07-10 10:08:17.919 +03:00 [DBG] Connection id "0HN50LRUSLTP5" accepted.
2024-07-10 10:08:17.927 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 10:08:17.928 +03:00 [DBG] Connection id "0HN50LRUSLTP5" started.
2024-07-10 10:08:17.932 +03:00 [DBG] Connection id "0HN50LRUSLTP4" stopped.
2024-07-10 10:08:17.933 +03:00 [DBG] Connection id "0HN50LRUSLTP4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:08:17.941 +03:00 [DBG] Connection 0HN50LRUSLTP5 established using the following protocol: "Tls13"
2024-07-10 10:08:17.950 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels - null null
2024-07-10 10:08:17.959 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels'
2024-07-10 10:08:17.966 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)' with route pattern 'api/Hotels' is valid for the request path '/api/Hotels'
2024-07-10 10:08:17.968 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 10:08:17.973 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:08:18.063 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:08:18.071 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 10:08:18.108 +03:00 [INF] Route matched with {action = "GetHotelsWithOut", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Hotel]]] GetHotelsWithOut() on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 10:08:18.113 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:08:18.115 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:08:18.117 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:08:18.119 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:08:18.121 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:08:18.124 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 10:08:18.566 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-10 10:08:18.794 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 10:08:19.784 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:08:19.872 +03:00 [DBG] Compiling query expression: 
'DbSet<Hotel>()
    .Where(h => h.IsDelete == False)'
2024-07-10 10:08:20.146 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Hotel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Hotel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Hotel.Address (string) Required, 1], [Property: Hotel.Email (string) Required, 2], [Property: Hotel.IsDelete (bool) Required, 3], [Property: Hotel.Name (string) Required, 4], [Property: Hotel.Phone (string) Required, 5] }
        SELECT h.Id, h.Address, h.Email, h.IsDelete, h.Name, h.Phone
        FROM Hotels AS h
        WHERE h.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Hotel>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 10:08:20.199 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:08:20.233 +03:00 [DBG] Created DbConnection. (34ms).
2024-07-10 10:08:20.239 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:08:22.653 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:08:22.662 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:08:22.671 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-07-10 10:08:22.677 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-07-10 10:08:22.692 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:08:22.776 +03:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:08:22.863 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.904 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.907 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.910 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.912 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.915 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.917 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.919 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.922 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.925 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.927 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.929 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.931 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:08:22.942 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:08:22.951 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 168ms reading results.
2024-07-10 10:08:22.958 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:08:22.967 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (8ms).
2024-07-10 10:08:22.997 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:08:23.002 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:08:23.003 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:08:23.005 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:08:23.008 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:08:23.012 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Repositories.ModelForCreate.HotelWithOutEnyThing, Repositories, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 10:08:23.035 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork) in 4908.6554ms
2024-07-10 10:08:23.042 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 10:08:23.046 +03:00 [DBG] Connection id "0HN50LRUSLTP5" completed keep alive response.
2024-07-10 10:08:23.051 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:08:23.063 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:08:23.067 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-07-10 10:08:23.069 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels - 200 null application/json; charset=utf-8 5119.949ms
2024-07-10 10:09:18.841 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-10 10:09:19.013 +03:00 [DBG] Hosting starting
2024-07-10 10:09:19.062 +03:00 [INF] User profile is available. Using 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-10 10:09:19.078 +03:00 [DBG] Reading data from file 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys\key-ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc.xml'.
2024-07-10 10:09:19.106 +03:00 [DBG] Found key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc}.
2024-07-10 10:09:19.122 +03:00 [DBG] Considering key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} with expiration date 2024-10-06 16:05:45Z as default key.
2024-07-10 10:09:19.130 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 10:09:19.134 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-10 10:09:19.138 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 10:09:19.147 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-10 10:09:19.150 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-10 10:09:19.154 +03:00 [DBG] Using key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} as the default key.
2024-07-10 10:09:19.157 +03:00 [DBG] Key ring with default key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} was loaded during application startup.
2024-07-10 10:09:19.514 +03:00 [INF] Now listening on: https://localhost:7018
2024-07-10 10:09:19.515 +03:00 [INF] Now listening on: http://localhost:5033
2024-07-10 10:09:19.517 +03:00 [DBG] Loaded hosting startup assembly API_HomeWork
2024-07-10 10:09:19.519 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-10 10:09:19.522 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-10 10:09:19.524 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-10 10:09:19.526 +03:00 [INF] Hosting environment: Development
2024-07-10 10:09:19.527 +03:00 [INF] Content root path: C:\Users\Abdal\source\repos\API_HomeWork_Abdallah\API_HomeWork
2024-07-10 10:09:19.529 +03:00 [DBG] Hosting started
2024-07-10 10:09:19.872 +03:00 [DBG] Connection id "0HN50LSRVMUV1" received FIN.
2024-07-10 10:09:19.872 +03:00 [DBG] Connection id "0HN50LSRVMUV2" received FIN.
2024-07-10 10:09:19.885 +03:00 [DBG] Connection id "0HN50LSRVMUV2" accepted.
2024-07-10 10:09:19.886 +03:00 [DBG] Connection id "0HN50LSRVMUV1" accepted.
2024-07-10 10:09:19.894 +03:00 [DBG] Connection id "0HN50LSRVMUV1" started.
2024-07-10 10:09:19.894 +03:00 [DBG] Connection id "0HN50LSRVMUV2" started.
2024-07-10 10:09:19.946 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 10:09:19.946 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 10:09:20.180 +03:00 [DBG] Connection id "0HN50LSRVMUV2" stopped.
2024-07-10 10:09:20.180 +03:00 [DBG] Connection id "0HN50LSRVMUV1" stopped.
2024-07-10 10:09:20.186 +03:00 [DBG] Connection id "0HN50LSRVMUV2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:09:20.187 +03:00 [DBG] Connection id "0HN50LSRVMUV1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:09:20.475 +03:00 [DBG] Connection id "0HN50LSRVMUV3" accepted.
2024-07-10 10:09:20.502 +03:00 [DBG] Connection id "0HN50LSRVMUV3" started.
2024-07-10 10:09:20.568 +03:00 [DBG] Connection 0HN50LSRVMUV3 established using the following protocol: "Tls13"
2024-07-10 10:09:20.651 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/index.html - null null
2024-07-10 10:09:21.296 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-10 10:09:21.333 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-10 10:09:21.335 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:09:21.459 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-10 10:09:21.462 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-10 10:09:21.523 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-10 10:09:21.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - null null
2024-07-10 10:09:21.524 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_vs/browserLink - null null
2024-07-10 10:09:21.531 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-10 10:09:21.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 50.8205ms
2024-07-10 10:09:21.587 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/index.html - 200 null text/html;charset=utf-8 943.9774ms
2024-07-10 10:09:21.676 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_vs/browserLink - 200 null text/javascript; charset=UTF-8 152.4189ms
2024-07-10 10:09:21.810 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - null null
2024-07-10 10:09:21.816 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-10 10:09:21.818 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:09:22.148 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 338.1551ms
2024-07-10 10:09:26.249 +03:00 [DBG] Connection id "0HN50LSRVMUV3" received FIN.
2024-07-10 10:09:26.254 +03:00 [DBG] The connection queue processing loop for 0HN50LSRVMUV3 completed.
2024-07-10 10:09:26.258 +03:00 [DBG] Connection id "0HN50LSRVMUV3" is closed. The last processed stream ID was 7.
2024-07-10 10:09:26.260 +03:00 [DBG] Connection id "0HN50LSRVMUV3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:09:26.264 +03:00 [DBG] Connection id "0HN50LSRVMUV3" stopped.
2024-07-10 10:09:27.592 +03:00 [DBG] Connection id "0HN50LSRVMUV4" accepted.
2024-07-10 10:09:27.594 +03:00 [DBG] Connection id "0HN50LSRVMUV4" received FIN.
2024-07-10 10:09:27.595 +03:00 [DBG] Connection id "0HN50LSRVMUV4" started.
2024-07-10 10:09:27.596 +03:00 [DBG] Connection id "0HN50LSRVMUV5" accepted.
2024-07-10 10:09:27.599 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 10:09:27.600 +03:00 [DBG] Connection id "0HN50LSRVMUV5" started.
2024-07-10 10:09:27.603 +03:00 [DBG] Connection id "0HN50LSRVMUV4" stopped.
2024-07-10 10:09:27.605 +03:00 [DBG] Connection id "0HN50LSRVMUV4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 10:09:27.610 +03:00 [DBG] Connection 0HN50LSRVMUV5 established using the following protocol: "Tls13"
2024-07-10 10:09:27.618 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels - null null
2024-07-10 10:09:27.627 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels'
2024-07-10 10:09:27.633 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)' with route pattern 'api/Hotels' is valid for the request path '/api/Hotels'
2024-07-10 10:09:27.635 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 10:09:27.639 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:09:27.715 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:09:27.722 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 10:09:27.763 +03:00 [INF] Route matched with {action = "GetHotelsWithOut", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Hotel]]] GetHotelsWithOut() on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 10:09:27.767 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:09:27.769 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:09:27.771 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:09:27.773 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:09:27.776 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:09:27.781 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 10:09:27.989 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-10 10:09:28.183 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 10:09:29.249 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:09:29.349 +03:00 [DBG] Compiling query expression: 
'DbSet<Hotel>()
    .Where(h => h.IsDelete == False)'
2024-07-10 10:09:29.642 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Hotel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Hotel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Hotel.Address (string) Required, 1], [Property: Hotel.Email (string) Required, 2], [Property: Hotel.IsDelete (bool) Required, 3], [Property: Hotel.Name (string) Required, 4], [Property: Hotel.Phone (string) Required, 5] }
        SELECT h.Id, h.Address, h.Email, h.IsDelete, h.Name, h.Phone
        FROM Hotels AS h
        WHERE h.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Hotel>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 10:09:29.698 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:09:29.738 +03:00 [DBG] Created DbConnection. (38ms).
2024-07-10 10:09:29.744 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:30.582 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:30.596 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:09:30.608 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-07-10 10:09:30.615 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-07-10 10:09:30.632 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:09:30.718 +03:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:09:30.812 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.862 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.864 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.866 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.867 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.869 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.871 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.873 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.875 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.876 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.878 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.879 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.881 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:30.890 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:30.899 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 172ms reading results.
2024-07-10 10:09:30.904 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:30.913 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (9ms).
2024-07-10 10:09:30.948 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:09:30.954 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:09:30.956 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:09:30.957 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:09:30.960 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:09:30.961 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Repositories.ModelForCreate.HotelWithOutEnyThing, Repositories, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 10:09:30.983 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork) in 3200.1106ms
2024-07-10 10:09:30.986 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 10:09:30.990 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:09:30.995 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:09:31.003 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:31.008 +03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-07-10 10:09:31.011 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels - 200 null application/json; charset=utf-8 3393.0159ms
2024-07-10 10:09:44.204 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels/1 - null null
2024-07-10 10:09:44.208 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels/1'
2024-07-10 10:09:44.211 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)' with route pattern 'api/Hotels/{hotelId}' is valid for the request path '/api/Hotels/1'
2024-07-10 10:09:44.213 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 10:09:44.215 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:09:44.217 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:09:44.220 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 10:09:44.237 +03:00 [INF] Route matched with {action = "GetHotel", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Hotel]] GetHotel(Int32) on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 10:09:44.240 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:09:44.241 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:09:44.245 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:09:44.248 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:09:44.250 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:09:44.252 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 10:09:44.255 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 10:09:44.266 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 10:09:44.271 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' using the name 'hotelId' in request data ...
2024-07-10 10:09:44.275 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 10:09:44.277 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 10:09:44.279 +03:00 [DBG] Attempting to validate the bound parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 10:09:44.283 +03:00 [DBG] Done attempting to validate the bound parameter 'hotelId' of type 'System.Int32'.
2024-07-10 10:09:44.313 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:09:44.318 +03:00 [DBG] Compiling query expression: 
'DbSet<Hotel>()
    .FirstOrDefault(h => h.Id == __id_0)'
2024-07-10 10:09:44.334 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Hotel>(
    asyncEnumerable: new SingleQueryingEnumerable<Hotel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Hotel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Hotel.Address (string) Required, 1], [Property: Hotel.Email (string) Required, 2], [Property: Hotel.IsDelete (bool) Required, 3], [Property: Hotel.Name (string) Required, 4], [Property: Hotel.Phone (string) Required, 5] }
            SELECT TOP(1) h.Id, h.Address, h.Email, h.IsDelete, h.Name, h.Phone
            FROM Hotels AS h
            WHERE h.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Hotel>, 
        HotelDataBase.HotelContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-10 10:09:44.343 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:09:44.345 +03:00 [DBG] Created DbConnection. (2ms).
2024-07-10 10:09:44.347 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:44.351 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:44.353 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:09:44.354 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 10:09:44.362 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-07-10 10:09:44.367 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 10:09:44.430 +03:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 10:09:44.433 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:09:44.436 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:44.439 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 6ms reading results.
2024-07-10 10:09:44.441 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:44.444 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-07-10 10:09:44.448 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:09:44.451 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:09:44.452 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:09:44.453 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:09:44.454 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:09:44.456 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Hotel'.
2024-07-10 10:09:44.484 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork) in 232.1733ms
2024-07-10 10:09:44.486 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 10:09:44.487 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:09:44.489 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:09:44.490 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:09:44.492 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 10:09:44.496 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels/1 - 200 null application/json; charset=utf-8 292.5947ms
2024-07-10 10:10:15.996 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employees/1 - null null
2024-07-10 10:10:16.009 +03:00 [DBG] No candidates found for the request path '/api/Employees/1'
2024-07-10 10:10:16.011 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:10:16.013 +03:00 [DBG] The request path  does not match the path filter
2024-07-10 10:10:16.018 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:10:16.020 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:10:16.022 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employees/1 - 404 0 null 25.848ms
2024-07-10 10:10:16.026 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7018/api/Employees/1, Response status code: 404
2024-07-10 10:10:19.532 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employee/1 - null null
2024-07-10 10:10:19.535 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/1'
2024-07-10 10:10:19.536 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/1'
2024-07-10 10:10:19.538 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 10:10:19.539 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:10:19.540 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:10:19.543 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 10:10:19.551 +03:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee]] GetEmployee(Int32) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 10:10:19.553 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:10:19.555 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:10:19.557 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:10:19.559 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:10:19.561 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:10:19.563 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 10:10:19.568 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 10:10:19.571 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 10:10:19.572 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 10:10:19.574 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 10:10:19.576 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 10:10:19.578 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 10:10:19.580 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 10:10:19.652 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:10:19.656 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(e => e.Id == __id_0)'
2024-07-10 10:10:19.664 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: new SingleQueryingEnumerable<Employee>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (string) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HotelId (int) Required FK Index, 4], [Property: Employee.IsDelete (bool) Required, 5], [Property: Employee.Lastname (string) Required, 6], [Property: Employee.StartDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
            SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HotelId, e.IsDelete, e.Lastname, e.StartDate, e.Title
            FROM Employee AS e
            WHERE e.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
        HotelDataBase.HotelContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-10 10:10:19.667 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:10:19.668 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 10:10:19.669 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:19.671 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:19.672 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:10:19.673 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 10:10:19.674 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 10:10:19.676 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 10:10:19.697 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 10:10:19.699 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:19.700 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 10:10:19.702 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:19.703 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 10:10:19.705 +03:00 [WRN] This employee with ID 1 does not exist. Please try again later
2024-07-10 10:10:19.708 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:10:19.711 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:10:19.713 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 10:10:19.717 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 10:10:19.718 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-10 10:10:19.735 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork) in 172.1318ms
2024-07-10 10:10:19.737 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 10:10:19.738 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:10:19.740 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:10:19.741 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:19.742 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 10:10:19.745 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employee/1 - 404 null application/problem+json; charset=utf-8 213.5196ms
2024-07-10 10:10:22.820 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employee - null null
2024-07-10 10:10:22.827 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2024-07-10 10:10:22.828 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2024-07-10 10:10:22.830 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 10:10:22.832 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:10:22.833 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:10:22.836 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 10:10:22.848 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Employee]]] GetEmployees() on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 10:10:22.854 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:10:22.855 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:10:22.857 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:10:22.859 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:10:22.861 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:10:22.864 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 10:10:22.866 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 10:10:22.871 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:10:22.875 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.IsDelete == False)'
2024-07-10 10:10:22.881 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (string) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HotelId (int) Required FK Index, 4], [Property: Employee.IsDelete (bool) Required, 5], [Property: Employee.Lastname (string) Required, 6], [Property: Employee.StartDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT e.Id, e.DOB, e.Email, e.FirstName, e.HotelId, e.IsDelete, e.Lastname, e.StartDate, e.Title
        FROM Employee AS e
        WHERE e.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 10:10:22.884 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:10:22.885 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 10:10:22.886 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:22.887 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:22.889 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:10:22.891 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-10 10:10:22.893 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-07-10 10:10:22.895 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:10:22.912 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:10:22.921 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:10:22.942 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:10:22.945 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:22.946 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 32ms reading results.
2024-07-10 10:10:22.948 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:22.950 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 10:10:22.952 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:10:22.955 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:10:22.957 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:10:22.958 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:10:22.960 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:10:22.961 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Employee, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 10:10:22.969 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork) in 104.5519ms
2024-07-10 10:10:22.971 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 10:10:22.973 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:10:22.976 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:10:22.977 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:22.979 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 10:10:22.981 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employee - 200 null application/json; charset=utf-8 179.265ms
2024-07-10 10:10:28.089 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employee/4 - null null
2024-07-10 10:10:28.093 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2024-07-10 10:10:28.094 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/4'
2024-07-10 10:10:28.096 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 10:10:28.098 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:10:28.099 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:10:28.101 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 10:10:28.104 +03:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee]] GetEmployee(Int32) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 10:10:28.107 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:10:28.109 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:10:28.110 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:10:28.113 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:10:28.115 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:10:28.117 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 10:10:28.120 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 10:10:28.122 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 10:10:28.124 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 10:10:28.126 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 10:10:28.128 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 10:10:28.129 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 10:10:28.131 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 10:10:28.134 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:10:28.142 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:10:28.143 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 10:10:28.144 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:28.146 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:28.148 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:10:28.149 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 10:10:28.153 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-07-10 10:10:28.155 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 10:10:28.172 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 10:10:28.175 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:10:28.177 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:28.179 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 10:10:28.181 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:28.182 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 10:10:28.186 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:10:28.190 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:10:28.191 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:10:28.192 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:10:28.193 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:10:28.195 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Employee'.
2024-07-10 10:10:28.197 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork) in 80.5132ms
2024-07-10 10:10:28.199 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 10:10:28.202 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:10:28.204 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:10:28.206 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:28.208 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-10 10:10:28.210 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employee/4 - 200 null application/json; charset=utf-8 120.1987ms
2024-07-10 10:10:32.392 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employee - null null
2024-07-10 10:10:32.402 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2024-07-10 10:10:32.403 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2024-07-10 10:10:32.404 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 10:10:32.405 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:10:32.406 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:10:32.408 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 10:10:32.409 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Employee]]] GetEmployees() on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 10:10:32.411 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:10:32.412 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:10:32.414 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:10:32.417 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:10:32.418 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:10:32.420 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 10:10:32.421 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 10:10:32.424 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:10:32.426 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:10:32.427 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 10:10:32.428 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:32.430 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:32.432 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:10:32.434 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 10:10:32.435 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 10:10:32.436 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:10:32.450 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:10:32.453 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:10:32.454 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:10:32.456 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:32.457 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-07-10 10:10:32.458 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:32.460 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 10:10:32.461 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:10:32.464 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:10:32.466 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:10:32.467 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:10:32.468 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:10:32.469 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Employee, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 10:10:32.471 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork) in 50.7214ms
2024-07-10 10:10:32.472 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 10:10:32.474 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:10:32.475 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:10:32.476 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:32.478 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 10:10:32.481 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employee - 200 null application/json; charset=utf-8 89.7621ms
2024-07-10 10:10:48.475 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Guest - null null
2024-07-10 10:10:48.478 +03:00 [DBG] No candidates found for the request path '/api/Guest'
2024-07-10 10:10:48.479 +03:00 [DBG] Request did not match any endpoints
2024-07-10 10:10:48.480 +03:00 [DBG] The request path  does not match the path filter
2024-07-10 10:10:48.481 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:10:48.483 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:10:48.485 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Guest - 404 0 null 10.2532ms
2024-07-10 10:10:48.490 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7018/api/Guest, Response status code: 404
2024-07-10 10:10:52.313 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Guests - null null
2024-07-10 10:10:52.316 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Guests'
2024-07-10 10:10:52.317 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)' with route pattern 'api/Guests' is valid for the request path '/api/Guests'
2024-07-10 10:10:52.319 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 10:10:52.320 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:10:52.321 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:10:52.323 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 10:10:52.329 +03:00 [INF] Route matched with {action = "GetGuests", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Guest]]] GetGuests() on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 10:10:52.332 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:10:52.333 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:10:52.334 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:10:52.336 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:10:52.338 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:10:52.339 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 10:10:52.342 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 10:10:52.347 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:10:52.351 +03:00 [DBG] Compiling query expression: 
'DbSet<Guest>()
    .Where(g => g.IsDelete == False)'
2024-07-10 10:10:52.358 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Guest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Guest.DOB (DateTime) Required, 1], [Property: Guest.Email (string) Required, 2], [Property: Guest.FirstName (string) Required, 3], [Property: Guest.HotelId (int) Required FK Index, 4], [Property: Guest.IsDelete (bool) Required, 5], [Property: Guest.LastName (string) Required, 6], [Property: Guest.Phone (string) Required, 7] }
        SELECT g.Id, g.DOB, g.Email, g.FirstName, g.HotelId, g.IsDelete, g.LastName, g.Phone
        FROM Guests AS g
        WHERE g.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guest>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 10:10:52.360 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:10:52.362 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 10:10:52.363 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:52.365 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:52.366 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:10:52.367 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 10:10:52.369 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 10:10:52.371 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:10:52.387 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:10:52.393 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:10:52.411 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:10:52.413 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:52.415 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 25ms reading results.
2024-07-10 10:10:52.417 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:52.418 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 10:10:52.420 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:10:52.423 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:10:52.424 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:10:52.425 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:10:52.426 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:10:52.428 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Guest, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 10:10:52.433 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork) in 93.7128ms
2024-07-10 10:10:52.435 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 10:10:52.437 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:10:52.438 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:10:52.440 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:52.441 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 10:10:52.443 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Guests - 200 null application/json; charset=utf-8 129.7736ms
2024-07-10 10:10:58.457 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Guests/2 - null null
2024-07-10 10:10:58.460 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Guests/2'
2024-07-10 10:10:58.461 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/Guests/2'
2024-07-10 10:10:58.462 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 10:10:58.464 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:10:58.465 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:10:58.467 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 10:10:58.475 +03:00 [INF] Route matched with {action = "GetGuest", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest]] GetGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 10:10:58.477 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:10:58.478 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:10:58.480 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:10:58.482 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:10:58.484 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:10:58.487 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 10:10:58.489 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 10:10:58.492 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 10:10:58.493 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 10:10:58.495 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 10:10:58.496 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 10:10:58.497 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 10:10:58.499 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 10:10:58.504 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:10:58.507 +03:00 [DBG] Compiling query expression: 
'DbSet<Guest>()
    .FirstOrDefault(g => g.Id == __id_0)'
2024-07-10 10:10:58.512 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Guest>(
    asyncEnumerable: new SingleQueryingEnumerable<Guest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Guest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Guest.DOB (DateTime) Required, 1], [Property: Guest.Email (string) Required, 2], [Property: Guest.FirstName (string) Required, 3], [Property: Guest.HotelId (int) Required FK Index, 4], [Property: Guest.IsDelete (bool) Required, 5], [Property: Guest.LastName (string) Required, 6], [Property: Guest.Phone (string) Required, 7] }
            SELECT TOP(1) g.Id, g.DOB, g.Email, g.FirstName, g.HotelId, g.IsDelete, g.LastName, g.Phone
            FROM Guests AS g
            WHERE g.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guest>, 
        HotelDataBase.HotelContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-10 10:10:58.515 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:10:58.516 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 10:10:58.517 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:58.519 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:58.522 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:10:58.524 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-10 10:10:58.526 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 10:10:58.527 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 10:10:58.533 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 10:10:58.535 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:10:58.537 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:58.538 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 10:10:58.541 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:58.542 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 10:10:58.543 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:10:58.546 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:10:58.547 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:10:58.548 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:10:58.549 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:10:58.550 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Guest'.
2024-07-10 10:10:58.552 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork) in 65.2677ms
2024-07-10 10:10:58.553 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 10:10:58.555 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:10:58.557 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:10:58.558 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:10:58.560 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 10:10:58.562 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Guests/2 - 200 null application/json; charset=utf-8 104.6026ms
2024-07-10 10:11:17.181 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Bookings - null null
2024-07-10 10:11:17.184 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings'
2024-07-10 10:11:17.185 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork)' with route pattern 'api/Bookings' is valid for the request path '/api/Bookings'
2024-07-10 10:11:17.187 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork)'
2024-07-10 10:11:17.189 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:11:17.190 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:11:17.191 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork)'
2024-07-10 10:11:17.197 +03:00 [INF] Route matched with {action = "GetBookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Booking]]] GetBookings() on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 10:11:17.199 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:11:17.200 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:11:17.201 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:11:17.203 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:11:17.206 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:11:17.208 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 10:11:17.210 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 10:11:17.214 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:11:17.217 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .Where(b => b.IsDelete == False)'
2024-07-10 10:11:17.224 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Booking>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckInAt (DateTime) Required, 1], [Property: Booking.CheckOutAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.GuestId (int) Required FK Index, 4], [Property: Booking.IsDelete (bool) Required, 5], [Property: Booking.Price (double) Required, 6], [Property: Booking.RoomId (int) Required FK Index, 7] }
        SELECT b.Id, b.CheckInAt, b.CheckOutAt, b.EmployeeId, b.GuestId, b.IsDelete, b.Price, b.RoomId
        FROM Bookings AS b
        WHERE b.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Booking>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 10:11:17.226 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:11:17.227 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 10:11:17.228 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:17.230 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:17.231 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:11:17.232 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 10:11:17.233 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 10:11:17.234 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:11:17.244 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[IsDelete] = CAST(0 AS bit)
2024-07-10 10:11:17.249 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:11:17.262 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:11:17.264 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:11:17.265 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:17.267 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 20ms reading results.
2024-07-10 10:11:17.268 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:17.270 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 10:11:17.273 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:11:17.275 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:11:17.276 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:11:17.277 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:11:17.277 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:11:17.279 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Booking, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 10:11:17.284 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork) in 76.7288ms
2024-07-10 10:11:17.286 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork)'
2024-07-10 10:11:17.289 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:11:17.291 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:11:17.292 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:17.294 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 10:11:17.296 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Bookings - 200 null application/json; charset=utf-8 114.2195ms
2024-07-10 10:11:25.373 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Bookings/1003 - null null
2024-07-10 10:11:25.376 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 10:11:25.377 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 10:11:25.379 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 10:11:25.381 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 10:11:25.382 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 10:11:25.383 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 10:11:25.392 +03:00 [INF] Route matched with {action = "GetBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] GetBooking(Int32) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 10:11:25.394 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 10:11:25.396 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 10:11:25.398 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 10:11:25.400 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 10:11:25.402 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 10:11:25.403 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 10:11:25.405 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 10:11:25.407 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 10:11:25.408 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 10:11:25.409 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 10:11:25.411 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 10:11:25.412 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 10:11:25.414 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 10:11:25.420 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 10:11:25.423 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .FirstOrDefault(b => b.Id == __id_0)'
2024-07-10 10:11:25.428 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Booking>(
    asyncEnumerable: new SingleQueryingEnumerable<Booking>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckInAt (DateTime) Required, 1], [Property: Booking.CheckOutAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.GuestId (int) Required FK Index, 4], [Property: Booking.IsDelete (bool) Required, 5], [Property: Booking.Price (double) Required, 6], [Property: Booking.RoomId (int) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.CheckInAt, b.CheckOutAt, b.EmployeeId, b.GuestId, b.IsDelete, b.Price, b.RoomId
            FROM Bookings AS b
            WHERE b.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Booking>, 
        HotelDataBase.HotelContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-10 10:11:25.432 +03:00 [DBG] Creating DbConnection.
2024-07-10 10:11:25.433 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 10:11:25.434 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:25.436 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:25.437 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 10:11:25.439 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 10:11:25.440 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 10:11:25.442 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 10:11:25.451 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 10:11:25.454 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 10:11:25.456 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:25.457 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 10:11:25.459 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:25.461 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 10:11:25.464 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 10:11:25.467 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 10:11:25.468 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 10:11:25.469 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 10:11:25.471 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 10:11:25.472 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Booking'.
2024-07-10 10:11:25.474 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork) in 71.2112ms
2024-07-10 10:11:25.477 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 10:11:25.478 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 10:11:25.481 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 10:11:25.483 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 10:11:25.484 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 10:11:25.487 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Bookings/1003 - 200 null application/json; charset=utf-8 113.3578ms
2024-07-10 12:09:07.318 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/Bookings/1003 - application/json 103
2024-07-10 12:09:07.326 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:09:07.328 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:09:07.330 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:09:07.332 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:09:07.335 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:09:07.343 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-07-10 12:09:07.382 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-07-10 12:09:07.401 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-07-10 12:09:07.404 +03:00 [DBG] Connection id "0HN50LSRVMUV5" completed keep alive response.
2024-07-10 12:09:07.406 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/Bookings/1003 - 401 0 null 93.3575ms
2024-07-10 12:09:07.417 +03:00 [DBG] Connection id "0HN50LSRVMUV5", Request id "0HN50LSRVMUV5:0000000D": started reading request body.
2024-07-10 12:09:07.421 +03:00 [DBG] Connection id "0HN50LSRVMUV5", Request id "0HN50LSRVMUV5:0000000D": done reading request body.
2024-07-10 12:10:30.889 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-10 12:10:31.022 +03:00 [DBG] Hosting starting
2024-07-10 12:10:31.063 +03:00 [INF] User profile is available. Using 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-10 12:10:31.074 +03:00 [DBG] Reading data from file 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys\key-ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc.xml'.
2024-07-10 12:10:31.101 +03:00 [DBG] Found key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc}.
2024-07-10 12:10:31.116 +03:00 [DBG] Considering key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} with expiration date 2024-10-06 16:05:45Z as default key.
2024-07-10 12:10:31.121 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 12:10:31.124 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-10 12:10:31.127 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 12:10:31.133 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-10 12:10:31.136 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-10 12:10:31.139 +03:00 [DBG] Using key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} as the default key.
2024-07-10 12:10:31.141 +03:00 [DBG] Key ring with default key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} was loaded during application startup.
2024-07-10 12:10:31.429 +03:00 [INF] Now listening on: https://localhost:7018
2024-07-10 12:10:31.430 +03:00 [INF] Now listening on: http://localhost:5033
2024-07-10 12:10:31.431 +03:00 [DBG] Loaded hosting startup assembly API_HomeWork
2024-07-10 12:10:31.433 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-10 12:10:31.434 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-10 12:10:31.435 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-10 12:10:31.436 +03:00 [INF] Hosting environment: Development
2024-07-10 12:10:31.437 +03:00 [INF] Content root path: C:\Users\Abdal\source\repos\API_HomeWork_Abdallah\API_HomeWork
2024-07-10 12:10:31.438 +03:00 [DBG] Hosting started
2024-07-10 12:10:31.852 +03:00 [DBG] Connection id "0HN50O0J6N6TU" accepted.
2024-07-10 12:10:31.854 +03:00 [DBG] Connection id "0HN50O0J6N6TU" started.
2024-07-10 12:10:31.859 +03:00 [DBG] Connection id "0HN50O0J6N6TV" accepted.
2024-07-10 12:10:31.860 +03:00 [DBG] Connection id "0HN50O0J6N6TV" started.
2024-07-10 12:10:31.891 +03:00 [DBG] Connection id "0HN50O0J6N6TU" received FIN.
2024-07-10 12:10:31.891 +03:00 [DBG] Connection id "0HN50O0J6N6TV" received FIN.
2024-07-10 12:10:31.906 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 12:10:31.906 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 12:10:31.965 +03:00 [DBG] Connection id "0HN50O0J6N6TV" stopped.
2024-07-10 12:10:31.965 +03:00 [DBG] Connection id "0HN50O0J6N6TU" stopped.
2024-07-10 12:10:31.969 +03:00 [DBG] Connection id "0HN50O0J6N6TU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:10:31.969 +03:00 [DBG] Connection id "0HN50O0J6N6TV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:10:32.441 +03:00 [DBG] Connection id "0HN50O0J6N6U0" accepted.
2024-07-10 12:10:32.442 +03:00 [DBG] Connection id "0HN50O0J6N6U0" started.
2024-07-10 12:10:32.506 +03:00 [DBG] Connection 0HN50O0J6N6U0 established using the following protocol: "Tls13"
2024-07-10 12:10:32.574 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/index.html - null null
2024-07-10 12:10:32.721 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-10 12:10:32.750 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-10 12:10:32.752 +03:00 [DBG] Request did not match any endpoints
2024-07-10 12:10:32.859 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-10 12:10:32.862 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-10 12:10:32.888 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-10 12:10:32.890 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-10 12:10:32.894 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/index.html - 200 null text/html;charset=utf-8 325.9204ms
2024-07-10 12:10:32.911 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - null null
2024-07-10 12:10:32.913 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_vs/browserLink - null null
2024-07-10 12:10:32.927 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 15.3957ms
2024-07-10 12:10:32.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.3088ms
2024-07-10 12:10:33.065 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - null null
2024-07-10 12:10:33.068 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-10 12:10:33.070 +03:00 [DBG] Request did not match any endpoints
2024-07-10 12:10:33.322 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 257.5528ms
2024-07-10 12:10:36.586 +03:00 [DBG] Connection id "0HN50O0J6N6U0" received FIN.
2024-07-10 12:10:36.592 +03:00 [DBG] The connection queue processing loop for 0HN50O0J6N6U0 completed.
2024-07-10 12:10:36.595 +03:00 [DBG] Connection id "0HN50O0J6N6U0" is closed. The last processed stream ID was 7.
2024-07-10 12:10:36.597 +03:00 [DBG] Connection id "0HN50O0J6N6U0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:10:36.600 +03:00 [DBG] Connection id "0HN50O0J6N6U0" stopped.
2024-07-10 12:11:10.510 +03:00 [DBG] Connection id "0HN50O0J6N6U1" accepted.
2024-07-10 12:11:10.516 +03:00 [DBG] Connection id "0HN50O0J6N6U1" received FIN.
2024-07-10 12:11:10.521 +03:00 [DBG] Connection id "0HN50O0J6N6U1" started.
2024-07-10 12:11:10.530 +03:00 [DBG] Connection id "0HN50O0J6N6U2" accepted.
2024-07-10 12:11:10.538 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 12:11:10.539 +03:00 [DBG] Connection id "0HN50O0J6N6U2" started.
2024-07-10 12:11:10.542 +03:00 [DBG] Connection id "0HN50O0J6N6U1" stopped.
2024-07-10 12:11:10.545 +03:00 [DBG] Connection id "0HN50O0J6N6U1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:11:10.550 +03:00 [DBG] Connection 0HN50O0J6N6U2 established using the following protocol: "Tls13"
2024-07-10 12:11:10.558 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/Bookings/1003 - application/json 111
2024-07-10 12:11:10.567 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:11:10.572 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:11:10.577 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:10.582 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:11:10.651 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:11:10.656 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:10.707 +03:00 [INF] Route matched with {action = "UpdateBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] UpdateBooking(Int32, Repository.ModelForUpdate.BookingForUpdate) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:11:10.711 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:11:10.713 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:11:10.715 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:11:10.717 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:11:10.719 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:11:10.724 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:10.907 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-10 12:11:10.934 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:10.943 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:10.947 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:11:10.950 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:10.952 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:10.954 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:10.958 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:10.961 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' ...
2024-07-10 12:11:10.964 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' using the name '' in request data ...
2024-07-10 12:11:10.967 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:11:10.982 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000001": started reading request body.
2024-07-10 12:11:10.984 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000001": done reading request body.
2024-07-10 12:11:10.995 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForUpdate.BookingForUpdate'
2024-07-10 12:11:10.996 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:10.998 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:10.999 +03:00 [DBG] Attempting to validate the bound parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' ...
2024-07-10 12:11:11.007 +03:00 [DBG] Done attempting to validate the bound parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:11.954 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:11:12.034 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .FirstOrDefault(b => b.Id == __id_0)'
2024-07-10 12:11:12.288 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Booking>(
    asyncEnumerable: new SingleQueryingEnumerable<Booking>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckInAt (DateTime) Required, 1], [Property: Booking.CheckOutAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.GuestId (int) Required FK Index, 4], [Property: Booking.IsDelete (bool) Required, 5], [Property: Booking.Price (double) Required, 6], [Property: Booking.RoomId (int) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.CheckInAt, b.CheckOutAt, b.EmployeeId, b.GuestId, b.IsDelete, b.Price, b.RoomId
            FROM Bookings AS b
            WHERE b.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Booking>, 
        HotelDataBase.HotelContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-10 12:11:12.344 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:11:12.382 +03:00 [DBG] Created DbConnection. (38ms).
2024-07-10 12:11:12.387 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:13.068 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:13.076 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:11:13.084 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-07-10 12:11:13.100 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-07-10 12:11:13.115 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:13.230 +03:00 [INF] Executed DbCommand (120ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:13.280 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:11:13.326 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:13.335 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 96ms reading results.
2024-07-10 12:11:13.344 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:13.357 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (12ms).
2024-07-10 12:11:13.362 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:11:13.366 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:11:13.397 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:11:13.402 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 0 entities written to the database.
2024-07-10 12:11:13.408 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:11:13.414 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork) in 2689.3532ms
2024-07-10 12:11:13.416 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:13.426 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:11:13.430 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:11:13.439 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:13.444 +03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-07-10 12:11:13.447 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/Bookings/1003 - 204 null null 2889.7567ms
2024-07-10 12:11:21.789 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Bookings/1003 - application/json 111
2024-07-10 12:11:21.794 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:11:21.795 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:11:21.798 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:11:21.800 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:11:21.802 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:11:21.804 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:11:21.810 +03:00 [INF] Route matched with {action = "GetBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] GetBooking(Int32) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:11:21.812 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:11:21.815 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:11:21.817 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:11:21.819 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:11:21.820 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:11:21.822 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:21.825 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:21.827 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:21.828 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:11:21.830 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:21.832 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:21.834 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:21.835 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:21.855 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:11:21.861 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:11:21.863 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:11:21.865 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:21.868 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:21.870 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:11:21.871 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:11:21.872 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:11:21.873 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:21.895 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:21.899 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:11:21.901 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:21.903 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-07-10 12:11:21.904 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:21.906 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:11:21.910 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:11:21.917 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:11:21.919 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:11:21.920 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:11:21.922 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:11:21.924 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Booking'.
2024-07-10 12:11:21.949 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork) in 127.3014ms
2024-07-10 12:11:21.951 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:11:21.953 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:11:21.955 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:11:21.956 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:21.958 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:11:21.960 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Bookings/1003 - 200 null application/json; charset=utf-8 171.4432ms
2024-07-10 12:11:21.965 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000002": started reading request body.
2024-07-10 12:11:21.967 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000002": done reading request body.
2024-07-10 12:11:32.810 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/Bookings/1003 - application/json 111
2024-07-10 12:11:32.814 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:11:32.816 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:11:32.817 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:32.819 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:11:32.823 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:11:32.824 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:32.826 +03:00 [INF] Route matched with {action = "UpdateBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] UpdateBooking(Int32, Repository.ModelForUpdate.BookingForUpdate) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:11:32.827 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:11:32.829 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:11:32.831 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:11:32.833 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:11:32.834 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:11:32.836 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:32.841 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:32.842 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:32.844 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:11:32.846 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:32.847 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:32.849 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:32.850 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:32.851 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' ...
2024-07-10 12:11:32.854 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' using the name '' in request data ...
2024-07-10 12:11:32.857 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:11:32.858 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000003": started reading request body.
2024-07-10 12:11:32.859 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000003": done reading request body.
2024-07-10 12:11:32.861 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForUpdate.BookingForUpdate'
2024-07-10 12:11:32.862 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:32.863 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:32.865 +03:00 [DBG] Attempting to validate the bound parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' ...
2024-07-10 12:11:32.867 +03:00 [DBG] Done attempting to validate the bound parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:32.929 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:11:32.932 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:11:32.933 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:11:32.934 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:32.935 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:32.937 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:11:32.939 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:11:32.941 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:11:32.942 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:32.948 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:32.950 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:11:32.952 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:32.953 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:11:32.955 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:32.957 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:11:32.958 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:11:32.959 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:11:32.960 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:11:32.961 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 0 entities written to the database.
2024-07-10 12:11:32.963 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:11:32.963 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork) in 127.8871ms
2024-07-10 12:11:32.965 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:32.966 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:11:32.967 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:11:32.968 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:32.969 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:11:32.972 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/Bookings/1003 - 204 null null 161.5677ms
2024-07-10 12:11:35.677 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/Bookings/1003 - application/json 111
2024-07-10 12:11:35.681 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:11:35.682 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:11:35.685 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:35.687 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:11:35.688 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:11:35.689 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:35.690 +03:00 [INF] Route matched with {action = "UpdateBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] UpdateBooking(Int32, Repository.ModelForUpdate.BookingForUpdate) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:11:35.692 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:11:35.694 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:11:35.696 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:11:35.698 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:11:35.700 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:11:35.702 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:35.704 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:35.706 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:35.708 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:11:35.709 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:35.711 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:35.712 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:35.714 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:35.716 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' ...
2024-07-10 12:11:35.718 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' using the name '' in request data ...
2024-07-10 12:11:35.720 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:11:35.721 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000004": started reading request body.
2024-07-10 12:11:35.723 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000004": done reading request body.
2024-07-10 12:11:35.725 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForUpdate.BookingForUpdate'
2024-07-10 12:11:35.726 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:35.728 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:35.729 +03:00 [DBG] Attempting to validate the bound parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate' ...
2024-07-10 12:11:35.731 +03:00 [DBG] Done attempting to validate the bound parameter 'booking' of type 'Repository.ModelForUpdate.BookingForUpdate'.
2024-07-10 12:11:35.733 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:11:35.737 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:11:35.739 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:11:35.740 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:35.742 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:35.743 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:11:35.745 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:11:35.746 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:11:35.748 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:35.755 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:35.757 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:11:35.759 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:35.761 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:11:35.763 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:35.765 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:11:35.767 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:11:35.769 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:11:35.770 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:11:35.772 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 0 entities written to the database.
2024-07-10 12:11:35.773 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:11:35.774 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork) in 71.9904ms
2024-07-10 12:11:35.776 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.UpdateBooking (API_HomeWork)'
2024-07-10 12:11:35.778 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:11:35.780 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:11:35.782 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:35.786 +03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-07-10 12:11:35.788 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/Bookings/1003 - 204 null null 110.3285ms
2024-07-10 12:11:40.078 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Bookings/1003 - application/json 111
2024-07-10 12:11:40.081 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:11:40.084 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:11:40.086 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:11:40.087 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:11:40.088 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:11:40.089 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:11:40.091 +03:00 [INF] Route matched with {action = "GetBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] GetBooking(Int32) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:11:40.092 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:11:40.094 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:11:40.095 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:11:40.097 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:11:40.100 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:11:40.101 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:40.103 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:11:40.104 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:40.105 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:11:40.107 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:40.108 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:40.109 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:11:40.110 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:11:40.113 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:11:40.117 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:11:40.118 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:11:40.119 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:40.120 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:40.121 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:11:40.122 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:11:40.124 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:11:40.125 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:40.131 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:11:40.133 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:11:40.135 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:40.136 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:11:40.138 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:40.139 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:11:40.141 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:11:40.143 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:11:40.144 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:11:40.145 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:11:40.147 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:11:40.149 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Booking'.
2024-07-10 12:11:40.151 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork) in 49.6051ms
2024-07-10 12:11:40.152 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:11:40.154 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:11:40.155 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:11:40.156 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:11:40.157 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:11:40.159 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Bookings/1003 - 200 null application/json; charset=utf-8 81.1632ms
2024-07-10 12:11:40.164 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000005": started reading request body.
2024-07-10 12:11:40.165 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000005": done reading request body.
2024-07-10 12:13:04.084 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels - application/json 111
2024-07-10 12:13:04.092 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels'
2024-07-10 12:13:04.093 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)' with route pattern 'api/Hotels' is valid for the request path '/api/Hotels'
2024-07-10 12:13:04.095 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:13:04.096 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:13:04.097 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:13:04.098 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:13:04.108 +03:00 [INF] Route matched with {action = "GetHotelsWithOut", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Hotel]]] GetHotelsWithOut() on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 12:13:04.110 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:13:04.112 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:13:04.113 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:13:04.116 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:13:04.118 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:13:04.120 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:13:04.258 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:13:04.265 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:13:04.277 +03:00 [DBG] Compiling query expression: 
'DbSet<Hotel>()
    .Where(h => h.IsDelete == False)'
2024-07-10 12:13:04.288 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Hotel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Hotel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Hotel.Address (string) Required, 1], [Property: Hotel.Email (string) Required, 2], [Property: Hotel.IsDelete (bool) Required, 3], [Property: Hotel.Name (string) Required, 4], [Property: Hotel.Phone (string) Required, 5] }
        SELECT h.Id, h.Address, h.Email, h.IsDelete, h.Name, h.Phone
        FROM Hotels AS h
        WHERE h.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Hotel>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 12:13:04.293 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:13:04.294 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:13:04.295 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:04.297 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:04.298 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:13:04.300 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:13:04.301 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:13:04.303 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:13:04.343 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:13:04.357 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.374 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.376 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.377 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.378 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.379 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.381 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.382 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.385 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.386 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.387 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.388 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.389 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:04.390 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:04.391 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 45ms reading results.
2024-07-10 12:13:04.392 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:04.393 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (0ms).
2024-07-10 12:13:04.416 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:13:04.419 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:13:04.420 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:13:04.421 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:13:04.421 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:13:04.422 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Repositories.ModelForCreate.HotelWithOutEnyThing, Repositories, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 12:13:04.427 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork) in 306.7768ms
2024-07-10 12:13:04.428 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:13:04.429 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:13:04.431 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:13:04.432 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:04.433 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:13:04.436 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels - 200 null application/json; charset=utf-8 352.0987ms
2024-07-10 12:13:04.439 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000006": started reading request body.
2024-07-10 12:13:04.440 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000006": done reading request body.
2024-07-10 12:13:56.746 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/Hotels/7 - application/json 87
2024-07-10 12:13:56.753 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels/7'
2024-07-10 12:13:56.755 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.UpdateHotel (API_HomeWork)' with route pattern 'api/Hotels/{hotelId}' is valid for the request path '/api/Hotels/7'
2024-07-10 12:13:56.757 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.UpdateHotel (API_HomeWork)'
2024-07-10 12:13:56.758 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:13:56.759 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:13:56.761 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.UpdateHotel (API_HomeWork)'
2024-07-10 12:13:56.768 +03:00 [INF] Route matched with {action = "UpdateHotel", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Hotel]] UpdateHotel(Int32, Repository.ModelForUpdate.HotelForUpdate) on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 12:13:56.770 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:13:56.771 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:13:56.772 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:13:56.774 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:13:56.775 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:13:56.776 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:13:56.778 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:13:56.787 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:13:56.788 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' using the name 'hotelId' in request data ...
2024-07-10 12:13:56.789 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:13:56.791 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:13:56.792 +03:00 [DBG] Attempting to validate the bound parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:13:56.793 +03:00 [DBG] Done attempting to validate the bound parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:13:56.794 +03:00 [DBG] Attempting to bind parameter 'hotel' of type 'Repository.ModelForUpdate.HotelForUpdate' ...
2024-07-10 12:13:56.796 +03:00 [DBG] Attempting to bind parameter 'hotel' of type 'Repository.ModelForUpdate.HotelForUpdate' using the name '' in request data ...
2024-07-10 12:13:56.797 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:13:56.800 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000007": started reading request body.
2024-07-10 12:13:56.802 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000007": done reading request body.
2024-07-10 12:13:56.805 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForUpdate.HotelForUpdate'
2024-07-10 12:13:56.806 +03:00 [DBG] Done attempting to bind parameter 'hotel' of type 'Repository.ModelForUpdate.HotelForUpdate'.
2024-07-10 12:13:56.807 +03:00 [DBG] Done attempting to bind parameter 'hotel' of type 'Repository.ModelForUpdate.HotelForUpdate'.
2024-07-10 12:13:56.808 +03:00 [DBG] Attempting to validate the bound parameter 'hotel' of type 'Repository.ModelForUpdate.HotelForUpdate' ...
2024-07-10 12:13:56.813 +03:00 [DBG] Done attempting to validate the bound parameter 'hotel' of type 'Repository.ModelForUpdate.HotelForUpdate'.
2024-07-10 12:13:56.818 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:13:56.821 +03:00 [DBG] Compiling query expression: 
'DbSet<Hotel>()
    .FirstOrDefault(h => h.Id == __id_0)'
2024-07-10 12:13:56.826 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Hotel>(
    asyncEnumerable: new SingleQueryingEnumerable<Hotel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Hotel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Hotel.Address (string) Required, 1], [Property: Hotel.Email (string) Required, 2], [Property: Hotel.IsDelete (bool) Required, 3], [Property: Hotel.Name (string) Required, 4], [Property: Hotel.Phone (string) Required, 5] }
            SELECT TOP(1) h.Id, h.Address, h.Email, h.IsDelete, h.Name, h.Phone
            FROM Hotels AS h
            WHERE h.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Hotel>, 
        HotelDataBase.HotelContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-10 12:13:56.829 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:13:56.830 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:13:56.831 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:56.834 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:56.836 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:13:56.837 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:13:56.839 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:13:56.840 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:13:56.846 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:13:56.849 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:56.852 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:56.853 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-07-10 12:13:56.855 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:56.857 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:13:56.860 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:13:56.861 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:13:56.869 +03:00 [DBG] The unchanged property 'Hotel.Address' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:13:56.882 +03:00 [DBG] An entity of type 'Hotel' tracked by 'HotelContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:56.886 +03:00 [DBG] The unchanged property 'Hotel.Email' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:13:56.889 +03:00 [DBG] The unchanged property 'Hotel.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:13:56.891 +03:00 [DBG] The unchanged property 'Hotel.Phone' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:13:56.896 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:13:56.973 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:56.977 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:56.983 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:13:56.985 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:13:56.987 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-07-10 12:13:56.989 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Hotels] SET [Address] = @p0, [Email] = @p1, [Name] = @p2, [Phone] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-07-10 12:13:57.023 +03:00 [INF] Executed DbCommand (33ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Hotels] SET [Address] = @p0, [Email] = @p1, [Name] = @p2, [Phone] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-07-10 12:13:57.029 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:57.031 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-07-10 12:13:57.035 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:57.037 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:13:57.042 +03:00 [DBG] An entity of type 'Hotel' tracked by 'HotelContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:13:57.044 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 1 entities written to the database.
2024-07-10 12:13:57.046 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:13:57.047 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.UpdateHotel (API_HomeWork) in 270.5456ms
2024-07-10 12:13:57.049 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.UpdateHotel (API_HomeWork)'
2024-07-10 12:13:57.050 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:13:57.052 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:13:57.053 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:13:57.054 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:13:57.056 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/Hotels/7 - 204 null null 312.615ms
2024-07-10 12:14:01.616 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels/7 - application/json 87
2024-07-10 12:14:01.620 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels/7'
2024-07-10 12:14:01.621 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)' with route pattern 'api/Hotels/{hotelId}' is valid for the request path '/api/Hotels/7'
2024-07-10 12:14:01.623 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:14:01.624 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:14:01.625 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:14:01.626 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:14:01.632 +03:00 [INF] Route matched with {action = "GetHotel", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Hotel]] GetHotel(Int32) on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 12:14:01.634 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:14:01.636 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:14:01.637 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:14:01.639 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:14:01.641 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:14:01.642 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:14:01.645 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:14:01.647 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:14:01.649 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' using the name 'hotelId' in request data ...
2024-07-10 12:14:01.650 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:14:01.652 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:14:01.653 +03:00 [DBG] Attempting to validate the bound parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:14:01.654 +03:00 [DBG] Done attempting to validate the bound parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:14:01.659 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:14:01.662 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:14:01.663 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:14:01.665 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:01.666 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:01.668 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:14:01.669 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:14:01.670 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:14:01.672 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:14:01.677 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:14:01.681 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:14:01.682 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:01.684 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:14:01.685 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:01.687 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:14:01.689 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:14:01.691 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:14:01.692 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:14:01.693 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:14:01.694 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:14:01.696 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Hotel'.
2024-07-10 12:14:01.700 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork) in 57.911ms
2024-07-10 12:14:01.701 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:14:01.703 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:14:01.704 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:14:01.705 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:01.707 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:14:01.708 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels/7 - 200 null application/json; charset=utf-8 91.9648ms
2024-07-10 12:14:01.712 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000008": started reading request body.
2024-07-10 12:14:01.714 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000008": done reading request body.
2024-07-10 12:14:15.656 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employee - application/json 87
2024-07-10 12:14:15.658 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2024-07-10 12:14:15.659 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2024-07-10 12:14:15.661 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 12:14:15.662 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:14:15.663 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:14:15.664 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 12:14:15.671 +03:00 [INF] Route matched with {action = "GetEmployees", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Employee]]] GetEmployees() on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:14:15.673 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:14:15.675 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:14:15.676 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:14:15.678 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:14:15.679 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:14:15.682 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:14:15.684 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:14:15.688 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:14:15.690 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .Where(e => e.IsDelete == False)'
2024-07-10 12:14:15.696 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (string) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HotelId (int) Required FK Index, 4], [Property: Employee.IsDelete (bool) Required, 5], [Property: Employee.Lastname (string) Required, 6], [Property: Employee.StartDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT e.Id, e.DOB, e.Email, e.FirstName, e.HotelId, e.IsDelete, e.Lastname, e.StartDate, e.Title
        FROM Employee AS e
        WHERE e.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 12:14:15.700 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:14:15.702 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:14:15.703 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:15.704 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:15.705 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:14:15.705 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:14:15.706 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:14:15.707 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:14:15.714 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:14:15.719 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:14:15.733 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:14:15.734 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:15.736 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 19ms reading results.
2024-07-10 12:14:15.737 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:15.738 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:14:15.740 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:14:15.743 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:14:15.744 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:14:15.744 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:14:15.745 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:14:15.746 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Employee, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 12:14:15.752 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork) in 70.0716ms
2024-07-10 12:14:15.754 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployees (API_HomeWork)'
2024-07-10 12:14:15.755 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:14:15.756 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:14:15.758 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:14:15.759 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:14:15.761 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employee - 200 null application/json; charset=utf-8 105.2484ms
2024-07-10 12:14:15.764 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000009": started reading request body.
2024-07-10 12:14:15.766 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000009": done reading request body.
2024-07-10 12:15:20.610 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employee/4 - application/json 109
2024-07-10 12:15:20.619 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2024-07-10 12:15:20.621 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/4'
2024-07-10 12:15:20.623 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:15:20.624 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:15:20.625 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:15:20.626 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:15:20.630 +03:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee]] GetEmployee(Int32) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:15:20.632 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:15:20.634 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:15:20.637 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:15:20.639 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:15:20.640 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:15:20.642 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:15:20.643 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:15:20.645 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:15:20.646 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 12:15:20.648 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:20.649 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:20.650 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:15:20.652 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:20.657 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:15:20.660 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(e => e.Id == __id_0)'
2024-07-10 12:15:20.666 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Employee>(
    asyncEnumerable: new SingleQueryingEnumerable<Employee>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (string) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HotelId (int) Required FK Index, 4], [Property: Employee.IsDelete (bool) Required, 5], [Property: Employee.Lastname (string) Required, 6], [Property: Employee.StartDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
            SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HotelId, e.IsDelete, e.Lastname, e.StartDate, e.Title
            FROM Employee AS e
            WHERE e.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
        HotelDataBase.HotelContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-10 12:15:20.668 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:15:20.670 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:15:20.672 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:20.674 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:20.676 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:15:20.677 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:15:20.678 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:15:20.679 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 12:15:20.685 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 12:15:20.688 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:15:20.689 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:20.691 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:15:20.692 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:20.694 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:15:20.696 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:15:20.699 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:15:20.699 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:15:20.700 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:15:20.701 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:15:20.703 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Employee'.
2024-07-10 12:15:20.705 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork) in 63.3436ms
2024-07-10 12:15:20.706 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:15:20.708 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:15:20.709 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:15:20.710 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:20.712 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:15:20.714 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employee/4 - 200 null application/json; charset=utf-8 104.2431ms
2024-07-10 12:15:20.717 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000A": started reading request body.
2024-07-10 12:15:20.719 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000A": done reading request body.
2024-07-10 12:15:27.750 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/Employee/4 - application/json 109
2024-07-10 12:15:27.753 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2024-07-10 12:15:27.754 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/4'
2024-07-10 12:15:27.756 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork)'
2024-07-10 12:15:27.757 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:15:27.758 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:15:27.759 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork)'
2024-07-10 12:15:27.766 +03:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee]] UpdateEmployee(Int32, Repository.ModelForUpdate.EmployeeForUpdate) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:15:27.768 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:15:27.769 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:15:27.771 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:15:27.773 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:15:27.774 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:15:27.776 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:15:27.778 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:15:27.781 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:15:27.783 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 12:15:27.784 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:27.785 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:27.787 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:15:27.788 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:27.789 +03:00 [DBG] Attempting to bind parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate' ...
2024-07-10 12:15:27.790 +03:00 [DBG] Attempting to bind parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate' using the name '' in request data ...
2024-07-10 12:15:27.792 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:15:27.793 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000B": started reading request body.
2024-07-10 12:15:27.795 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000B": done reading request body.
2024-07-10 12:15:27.799 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForUpdate.EmployeeForUpdate'
2024-07-10 12:15:27.800 +03:00 [DBG] Done attempting to bind parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate'.
2024-07-10 12:15:27.801 +03:00 [DBG] Done attempting to bind parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate'.
2024-07-10 12:15:27.802 +03:00 [DBG] Attempting to validate the bound parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate' ...
2024-07-10 12:15:27.805 +03:00 [DBG] Done attempting to validate the bound parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate'.
2024-07-10 12:15:27.808 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:15:27.810 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:15:27.811 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:15:27.813 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:27.816 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:27.817 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:15:27.819 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:15:27.820 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:15:27.822 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:15:27.828 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:15:27.837 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:15:27.838 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:27.840 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:15:27.841 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:27.843 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:15:27.845 +03:00 [WRN] This employee with ID 4 does not exist. Please try again later
2024-07-10 12:15:27.848 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:15:27.851 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:15:27.853 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 12:15:27.855 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 12:15:27.856 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-10 12:15:27.872 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork) in 96.2601ms
2024-07-10 12:15:27.873 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork)'
2024-07-10 12:15:27.875 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:15:27.876 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:15:27.877 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:27.879 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:15:27.881 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/Employee/4 - 404 null application/problem+json; charset=utf-8 130.3546ms
2024-07-10 12:15:42.071 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employee/4 - null null
2024-07-10 12:15:42.074 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2024-07-10 12:15:42.076 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/4'
2024-07-10 12:15:42.078 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:15:42.079 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:15:42.080 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:15:42.081 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:15:42.082 +03:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee]] GetEmployee(Int32) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:15:42.085 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:15:42.086 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:15:42.088 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:15:42.089 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:15:42.090 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:15:42.092 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:15:42.093 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:15:42.095 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:15:42.096 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 12:15:42.097 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:42.100 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:42.101 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:15:42.102 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:15:42.104 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:15:42.106 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:15:42.107 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:15:42.108 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:42.110 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:42.111 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:15:42.112 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:15:42.113 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:15:42.114 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 12:15:42.119 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 12:15:42.122 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:15:42.123 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:42.125 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:15:42.127 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:42.128 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:15:42.130 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:15:42.133 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:15:42.134 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:15:42.135 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:15:42.136 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:15:42.137 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Employee'.
2024-07-10 12:15:42.138 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork) in 46.5625ms
2024-07-10 12:15:42.139 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:15:42.141 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:15:42.142 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:15:42.143 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:15:42.145 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:15:42.146 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employee/4 - 200 null application/json; charset=utf-8 74.8716ms
2024-07-10 12:16:20.320 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/Employee/4 - application/json 109
2024-07-10 12:16:20.329 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2024-07-10 12:16:20.331 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/4'
2024-07-10 12:16:20.333 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork)'
2024-07-10 12:16:20.334 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:16:20.334 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:16:20.335 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork)'
2024-07-10 12:16:20.337 +03:00 [INF] Route matched with {action = "UpdateEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee]] UpdateEmployee(Int32, Repository.ModelForUpdate.EmployeeForUpdate) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:16:20.339 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:16:20.340 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:16:20.342 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:16:20.343 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:16:20.345 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:16:20.347 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:16:20.349 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:16:20.350 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:16:20.352 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 12:16:20.353 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:16:20.355 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:16:20.356 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:16:20.358 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:16:20.359 +03:00 [DBG] Attempting to bind parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate' ...
2024-07-10 12:16:20.360 +03:00 [DBG] Attempting to bind parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate' using the name '' in request data ...
2024-07-10 12:16:20.362 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:16:20.364 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000D": started reading request body.
2024-07-10 12:16:20.366 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000D": done reading request body.
2024-07-10 12:16:20.367 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForUpdate.EmployeeForUpdate'
2024-07-10 12:16:20.368 +03:00 [DBG] Done attempting to bind parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate'.
2024-07-10 12:16:20.369 +03:00 [DBG] Done attempting to bind parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate'.
2024-07-10 12:16:20.370 +03:00 [DBG] Attempting to validate the bound parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate' ...
2024-07-10 12:16:20.372 +03:00 [DBG] Done attempting to validate the bound parameter 'employee' of type 'Repository.ModelForUpdate.EmployeeForUpdate'.
2024-07-10 12:16:20.374 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:16:20.376 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:16:20.377 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:16:20.378 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:16:20.381 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:16:20.382 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:16:20.383 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:16:20.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:16:20.386 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:16:20.391 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:16:20.394 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:16:20.396 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:16:20.398 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-07-10 12:16:20.399 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:16:20.401 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:16:20.402 +03:00 [WRN] This employee with ID 4 does not exist. Please try again later
2024-07-10 12:16:20.403 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:16:20.406 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:16:20.407 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 12:16:20.409 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 12:16:20.411 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-10 12:16:20.413 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork) in 66.2747ms
2024-07-10 12:16:20.415 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.UpdateEmployee (API_HomeWork)'
2024-07-10 12:16:20.416 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:16:20.418 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:16:20.419 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:16:20.420 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:16:20.422 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/Employee/4 - 404 null application/problem+json; charset=utf-8 103.9248ms
2024-07-10 12:17:14.178 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/guest - application/json 109
2024-07-10 12:17:14.189 +03:00 [DBG] No candidates found for the request path '/api/guest'
2024-07-10 12:17:14.190 +03:00 [DBG] Request did not match any endpoints
2024-07-10 12:17:14.192 +03:00 [DBG] PUT requests are not supported
2024-07-10 12:17:14.194 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:17:14.196 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:17:14.198 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/guest - 404 0 null 20.0955ms
2024-07-10 12:17:14.202 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PUT https://localhost:7018/api/guest, Response status code: 404
2024-07-10 12:17:14.204 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000E": started reading request body.
2024-07-10 12:17:14.206 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000E": done reading request body.
2024-07-10 12:17:17.217 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guest - application/json 109
2024-07-10 12:17:17.219 +03:00 [DBG] No candidates found for the request path '/api/guest'
2024-07-10 12:17:17.220 +03:00 [DBG] Request did not match any endpoints
2024-07-10 12:17:17.222 +03:00 [DBG] The request path  does not match the path filter
2024-07-10 12:17:17.223 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:17:17.225 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:17:17.226 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guest - 404 0 null 9.6513ms
2024-07-10 12:17:17.230 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7018/api/guest, Response status code: 404
2024-07-10 12:17:17.232 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000F": started reading request body.
2024-07-10 12:17:17.233 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:0000000F": done reading request body.
2024-07-10 12:17:21.089 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guests - application/json 109
2024-07-10 12:17:21.092 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests'
2024-07-10 12:17:21.093 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)' with route pattern 'api/Guests' is valid for the request path '/api/guests'
2024-07-10 12:17:21.095 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:17:21.096 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:17:21.097 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:17:21.099 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:17:21.103 +03:00 [INF] Route matched with {action = "GetGuests", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Guest]]] GetGuests() on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:17:21.106 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:17:21.108 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:17:21.109 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:17:21.111 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:17:21.112 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:17:21.114 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:17:21.116 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:17:21.119 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:17:21.123 +03:00 [DBG] Compiling query expression: 
'DbSet<Guest>()
    .Where(g => g.IsDelete == False)'
2024-07-10 12:17:21.128 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Guest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Guest.DOB (DateTime) Required, 1], [Property: Guest.Email (string) Required, 2], [Property: Guest.FirstName (string) Required, 3], [Property: Guest.HotelId (int) Required FK Index, 4], [Property: Guest.IsDelete (bool) Required, 5], [Property: Guest.LastName (string) Required, 6], [Property: Guest.Phone (string) Required, 7] }
        SELECT g.Id, g.DOB, g.Email, g.FirstName, g.HotelId, g.IsDelete, g.LastName, g.Phone
        FROM Guests AS g
        WHERE g.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guest>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 12:17:21.131 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:17:21.132 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:17:21.133 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:17:21.134 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:17:21.135 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:17:21.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:17:21.139 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:17:21.140 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:17:21.146 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:17:21.150 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:17:21.163 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:17:21.165 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:17:21.166 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 17ms reading results.
2024-07-10 12:17:21.167 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:17:21.169 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:17:21.171 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:17:21.174 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:17:21.175 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:17:21.176 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:17:21.177 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:17:21.178 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Guest, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 12:17:21.182 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork) in 68.3534ms
2024-07-10 12:17:21.184 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:17:21.185 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:17:21.186 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:17:21.188 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:17:21.190 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:17:21.191 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guests - 200 null application/json; charset=utf-8 102.156ms
2024-07-10 12:17:21.195 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000010": started reading request body.
2024-07-10 12:17:21.196 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000010": done reading request body.
2024-07-10 12:18:07.254 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guests - application/json 128
2024-07-10 12:18:07.265 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests'
2024-07-10 12:18:07.266 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)' with route pattern 'api/Guests' is valid for the request path '/api/guests'
2024-07-10 12:18:07.268 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:18:07.269 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:18:07.269 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:18:07.271 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:18:07.272 +03:00 [INF] Route matched with {action = "GetGuests", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Guest]]] GetGuests() on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:18:07.274 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:18:07.276 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:18:07.278 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:18:07.281 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:18:07.282 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:18:07.284 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:18:07.285 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:18:07.288 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:18:07.290 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:18:07.291 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:18:07.293 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:07.295 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:07.296 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:18:07.298 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:18:07.299 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:18:07.301 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:18:07.306 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:18:07.308 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:18:07.311 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:18:07.313 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:07.314 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 5ms reading results.
2024-07-10 12:18:07.316 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:07.317 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:18:07.319 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:18:07.321 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:18:07.322 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:18:07.323 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:18:07.324 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:18:07.325 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Guest, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 12:18:07.328 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork) in 44.2688ms
2024-07-10 12:18:07.330 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:18:07.331 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:18:07.332 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:18:07.333 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:07.335 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:18:07.336 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guests - 200 null application/json; charset=utf-8 82.3699ms
2024-07-10 12:18:07.339 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000011": started reading request body.
2024-07-10 12:18:07.340 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000011": done reading request body.
2024-07-10 12:18:24.706 +03:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7018/api/guests/1 - application/json 128
2024-07-10 12:18:24.709 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/1'
2024-07-10 12:18:24.710 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.UpdateGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/1'
2024-07-10 12:18:24.713 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.UpdateGuest (API_HomeWork)'
2024-07-10 12:18:24.714 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:18:24.714 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:18:24.716 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.UpdateGuest (API_HomeWork)'
2024-07-10 12:18:24.721 +03:00 [INF] Route matched with {action = "UpdateGuest", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest]] UpdateGuest(Int32, Repository.ModelForUpdate.GuestForUpdate) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:18:24.723 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:18:24.724 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:18:24.726 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:18:24.729 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:18:24.730 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:18:24.732 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:18:24.734 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:18:24.736 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:18:24.737 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:18:24.739 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:18:24.740 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:18:24.742 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:18:24.744 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:18:24.746 +03:00 [DBG] Attempting to bind parameter 'guest' of type 'Repository.ModelForUpdate.GuestForUpdate' ...
2024-07-10 12:18:24.747 +03:00 [DBG] Attempting to bind parameter 'guest' of type 'Repository.ModelForUpdate.GuestForUpdate' using the name '' in request data ...
2024-07-10 12:18:24.748 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:18:24.750 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000012": started reading request body.
2024-07-10 12:18:24.752 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000012": done reading request body.
2024-07-10 12:18:24.754 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForUpdate.GuestForUpdate'
2024-07-10 12:18:24.756 +03:00 [DBG] Done attempting to bind parameter 'guest' of type 'Repository.ModelForUpdate.GuestForUpdate'.
2024-07-10 12:18:24.757 +03:00 [DBG] Done attempting to bind parameter 'guest' of type 'Repository.ModelForUpdate.GuestForUpdate'.
2024-07-10 12:18:24.758 +03:00 [DBG] Attempting to validate the bound parameter 'guest' of type 'Repository.ModelForUpdate.GuestForUpdate' ...
2024-07-10 12:18:24.762 +03:00 [DBG] Done attempting to validate the bound parameter 'guest' of type 'Repository.ModelForUpdate.GuestForUpdate'.
2024-07-10 12:18:24.767 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:18:24.770 +03:00 [DBG] Compiling query expression: 
'DbSet<Guest>()
    .FirstOrDefault(g => g.Id == __id_0)'
2024-07-10 12:18:24.774 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Guest>(
    asyncEnumerable: new SingleQueryingEnumerable<Guest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Guest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Guest.DOB (DateTime) Required, 1], [Property: Guest.Email (string) Required, 2], [Property: Guest.FirstName (string) Required, 3], [Property: Guest.HotelId (int) Required FK Index, 4], [Property: Guest.IsDelete (bool) Required, 5], [Property: Guest.LastName (string) Required, 6], [Property: Guest.Phone (string) Required, 7] }
            SELECT TOP(1) g.Id, g.DOB, g.Email, g.FirstName, g.HotelId, g.IsDelete, g.LastName, g.Phone
            FROM Guests AS g
            WHERE g.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guest>, 
        HotelDataBase.HotelContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-07-10 12:18:24.778 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:18:24.779 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:18:24.780 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:24.781 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:24.782 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:18:24.784 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:18:24.785 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:18:24.786 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:18:24.792 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:18:24.796 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:18:24.797 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:24.799 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:18:24.801 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:24.802 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:18:24.804 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:18:24.805 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:18:24.814 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:18:24.816 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 0 entities written to the database.
2024-07-10 12:18:24.817 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:18:24.818 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.UpdateGuest (API_HomeWork) in 86.0536ms
2024-07-10 12:18:24.820 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.UpdateGuest (API_HomeWork)'
2024-07-10 12:18:24.821 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:18:24.822 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:18:24.823 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:24.825 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:18:24.828 +03:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7018/api/guests/1 - 204 null null 121.8018ms
2024-07-10 12:18:30.332 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guests/1 - application/json 128
2024-07-10 12:18:30.335 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/1'
2024-07-10 12:18:30.336 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/1'
2024-07-10 12:18:30.338 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:18:30.340 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:18:30.341 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:18:30.343 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:18:30.347 +03:00 [INF] Route matched with {action = "GetGuest", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest]] GetGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:18:30.349 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:18:30.351 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:18:30.352 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:18:30.354 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:18:30.357 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:18:30.359 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:18:30.360 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:18:30.362 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:18:30.363 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:18:30.365 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:18:30.366 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:18:30.367 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:18:30.369 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:18:30.374 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:18:30.377 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:18:30.378 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:18:30.379 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:30.381 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:30.383 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:18:30.384 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:18:30.385 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:18:30.386 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:18:30.392 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:18:30.395 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:18:30.396 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:30.398 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:18:30.399 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:30.401 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:18:30.403 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:18:30.407 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:18:30.407 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:18:30.408 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:18:30.409 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:18:30.410 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Guest'.
2024-07-10 12:18:30.412 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork) in 53.0276ms
2024-07-10 12:18:30.413 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:18:30.415 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:18:30.416 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:18:30.417 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:18:30.419 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:18:30.421 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guests/1 - 200 null application/json; charset=utf-8 89.7899ms
2024-07-10 12:18:30.425 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000013": started reading request body.
2024-07-10 12:18:30.426 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000013": done reading request body.
2024-07-10 12:20:45.377 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/guests/1 - application/json 128
2024-07-10 12:20:45.386 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/1'
2024-07-10 12:20:45.387 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/1'
2024-07-10 12:20:45.388 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:20:45.389 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:20:45.390 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:20:45.391 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:20:45.395 +03:00 [INF] Route matched with {action = "DeleteGuest", controller = "Guests"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest] DeleteGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:20:45.397 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:20:45.398 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:20:45.400 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:20:45.402 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:20:45.403 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:20:45.404 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:20:45.406 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:20:45.407 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:20:45.409 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:20:45.411 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:45.412 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:45.413 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:20:45.415 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:45.420 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:20:45.423 +03:00 [DBG] Compiling query expression: 
'DbSet<Guest>()
    .FirstOrDefault(g => g.Id == __guestId_0)'
2024-07-10 12:20:45.429 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Guest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Guest.DOB (DateTime) Required, 1], [Property: Guest.Email (string) Required, 2], [Property: Guest.FirstName (string) Required, 3], [Property: Guest.HotelId (int) Required FK Index, 4], [Property: Guest.IsDelete (bool) Required, 5], [Property: Guest.LastName (string) Required, 6], [Property: Guest.Phone (string) Required, 7] }
        SELECT TOP(1) g.Id, g.DOB, g.Email, g.FirstName, g.HotelId, g.IsDelete, g.LastName, g.Phone
        FROM Guests AS g
        WHERE g.Id == @__guestId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guest>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-10 12:20:45.434 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:20:45.435 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:20:45.437 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.438 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.439 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:20:45.441 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:20:45.443 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:20:45.444 +03:00 [DBG] Executing DbCommand [Parameters=[@__guestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__guestId_0
2024-07-10 12:20:45.449 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__guestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__guestId_0
2024-07-10 12:20:45.451 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:20:45.453 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.454 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:20:45.455 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.456 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:20:45.460 +03:00 [DBG] Compiling query expression: 
'DbSet<Guest>()
    .FirstOrDefault(g => g.Id == __id_0)'
2024-07-10 12:20:45.465 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Guest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Guest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Guest.DOB (DateTime) Required, 1], [Property: Guest.Email (string) Required, 2], [Property: Guest.FirstName (string) Required, 3], [Property: Guest.HotelId (int) Required FK Index, 4], [Property: Guest.IsDelete (bool) Required, 5], [Property: Guest.LastName (string) Required, 6], [Property: Guest.Phone (string) Required, 7] }
        SELECT TOP(1) g.Id, g.DOB, g.Email, g.FirstName, g.HotelId, g.IsDelete, g.LastName, g.Phone
        FROM Guests AS g
        WHERE g.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Guest>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-10 12:20:45.467 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.468 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.469 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:20:45.470 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:20:45.471 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:20:45.472 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:20:45.475 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:20:45.479 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.481 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:20:45.482 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.483 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:20:45.485 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:20:45.486 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:20:45.487 +03:00 [DBG] The unchanged property 'Guest.IsDelete' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:20:45.488 +03:00 [DBG] An entity of type 'Guest' tracked by 'HotelContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:20:45.490 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:20:45.494 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.496 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.497 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:20:45.498 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:20:45.499 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:20:45.501 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Guests] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:20:45.514 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Guests] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:20:45.516 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.518 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:20:45.519 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.521 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:20:45.523 +03:00 [DBG] An entity of type 'Guest' tracked by 'HotelContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:20:45.525 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 1 entities written to the database.
2024-07-10 12:20:45.528 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:20:45.529 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork) in 124.5233ms
2024-07-10 12:20:45.530 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:20:45.531 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:20:45.532 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:20:45.533 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:45.535 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:20:45.536 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/guests/1 - 204 null null 160.7497ms
2024-07-10 12:20:45.540 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000014": started reading request body.
2024-07-10 12:20:45.543 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000014": done reading request body.
2024-07-10 12:20:50.903 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guests/1 - null null
2024-07-10 12:20:50.907 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/1'
2024-07-10 12:20:50.908 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/1'
2024-07-10 12:20:50.910 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:20:50.911 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:20:50.912 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:20:50.913 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:20:50.914 +03:00 [INF] Route matched with {action = "GetGuest", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest]] GetGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:20:50.916 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:20:50.917 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:20:50.920 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:20:50.922 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:20:50.923 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:20:50.925 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:20:50.926 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:20:50.927 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:20:50.929 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:20:50.930 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:50.931 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:50.932 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:20:50.933 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:50.936 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:20:50.939 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:20:50.940 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:20:50.941 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:50.942 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:50.944 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:20:50.945 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:20:50.946 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:20:50.948 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:20:50.954 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:20:50.957 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:20:50.958 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:50.959 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:20:50.961 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:50.962 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:20:50.964 +03:00 [WRN] This guest with ID 1 does not exist. Please try again later
2024-07-10 12:20:50.965 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:20:50.968 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:20:50.968 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 12:20:50.971 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 12:20:50.973 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-10 12:20:50.975 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork) in 49.9307ms
2024-07-10 12:20:50.976 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:20:50.977 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:20:50.979 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:20:50.980 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:50.981 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:20:50.983 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guests/1 - 404 null application/problem+json; charset=utf-8 79.6428ms
2024-07-10 12:20:56.516 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guests/1 - null null
2024-07-10 12:20:56.523 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/1'
2024-07-10 12:20:56.524 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/1'
2024-07-10 12:20:56.526 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:20:56.527 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:20:56.528 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:20:56.529 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:20:56.531 +03:00 [INF] Route matched with {action = "GetGuest", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest]] GetGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:20:56.534 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:20:56.535 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:20:56.537 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:20:56.538 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:20:56.540 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:20:56.541 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:20:56.543 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:20:56.544 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:20:56.546 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:20:56.548 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:56.550 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:56.552 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:20:56.553 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:20:56.555 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:20:56.557 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:20:56.558 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:20:56.559 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:56.561 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:56.563 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:20:56.564 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:20:56.566 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:20:56.568 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:20:56.572 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:20:56.574 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:20:56.576 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:56.577 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:20:56.578 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:56.580 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:20:56.582 +03:00 [WRN] This guest with ID 1 does not exist. Please try again later
2024-07-10 12:20:56.583 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:20:56.586 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:20:56.587 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 12:20:56.589 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 12:20:56.591 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-10 12:20:56.593 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork) in 51.7945ms
2024-07-10 12:20:56.595 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:20:56.597 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:20:56.599 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:20:56.601 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:20:56.603 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:20:56.604 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guests/1 - 404 null application/problem+json; charset=utf-8 88.4748ms
2024-07-10 12:21:00.856 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guests - null null
2024-07-10 12:21:00.859 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests'
2024-07-10 12:21:00.860 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)' with route pattern 'api/Guests' is valid for the request path '/api/guests'
2024-07-10 12:21:00.863 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:21:00.864 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:00.865 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:00.867 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:21:00.868 +03:00 [INF] Route matched with {action = "GetGuests", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Guest]]] GetGuests() on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:21:00.870 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:00.872 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:00.874 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:00.876 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:00.878 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:00.880 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:00.882 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:00.884 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:00.887 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:00.887 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:21:00.888 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:00.890 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:00.891 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:00.893 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:00.894 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:21:00.896 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:21:00.903 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:21:00.905 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:00.907 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:00.908 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:21:00.911 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:00.912 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:00.915 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:21:00.918 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:21:00.919 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:21:00.920 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:21:00.920 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:21:00.922 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Guest, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 12:21:00.924 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork) in 43.7808ms
2024-07-10 12:21:00.926 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuests (API_HomeWork)'
2024-07-10 12:21:00.929 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:00.931 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:00.932 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:00.934 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:00.936 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guests - 200 null application/json; charset=utf-8 79.7423ms
2024-07-10 12:21:11.312 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guests/2 - null null
2024-07-10 12:21:11.314 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/2'
2024-07-10 12:21:11.316 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/2'
2024-07-10 12:21:11.318 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:21:11.320 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:11.321 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:11.322 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:21:11.324 +03:00 [INF] Route matched with {action = "GetGuest", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest]] GetGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:21:11.325 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:11.327 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:11.329 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:11.330 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:11.332 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:11.334 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:11.336 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:11.338 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:21:11.339 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:21:11.341 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:11.342 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:11.343 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:21:11.344 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:11.346 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:11.348 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:11.349 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:21:11.351 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:11.353 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:11.354 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:11.355 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:21:11.356 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:11.357 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:21:11.362 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:21:11.364 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:11.366 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:11.368 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:21:11.370 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:11.371 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:11.372 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:21:11.375 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:21:11.376 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:21:11.376 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:21:11.377 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:21:11.379 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Guest'.
2024-07-10 12:21:11.380 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork) in 46.7108ms
2024-07-10 12:21:11.382 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:21:11.384 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:11.386 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:11.387 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:11.388 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:11.390 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guests/2 - 200 null application/json; charset=utf-8 78.4082ms
2024-07-10 12:21:17.670 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/guests/2 - null null
2024-07-10 12:21:17.673 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/2'
2024-07-10 12:21:17.674 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/2'
2024-07-10 12:21:17.676 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:21:17.677 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:17.678 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:17.680 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:21:17.681 +03:00 [INF] Route matched with {action = "DeleteGuest", controller = "Guests"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest] DeleteGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:21:17.683 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:17.684 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:17.685 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:17.687 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:17.689 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:17.691 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:17.692 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:17.694 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:21:17.696 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:21:17.698 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:17.699 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:17.700 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:21:17.702 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:17.704 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:17.706 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:17.707 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:21:17.708 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.710 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.711 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:17.713 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:17.714 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:21:17.716 +03:00 [DBG] Executing DbCommand [Parameters=[@__guestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__guestId_0
2024-07-10 12:21:17.719 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__guestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__guestId_0
2024-07-10 12:21:17.721 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:17.723 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.724 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:21:17.726 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.728 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:17.730 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.731 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.733 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:17.734 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:17.735 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:21:17.736 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:21:17.738 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:21:17.741 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.742 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:21:17.744 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.747 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-07-10 12:21:17.748 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:21:17.749 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:21:17.750 +03:00 [DBG] The unchanged property 'Guest.IsDelete' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:21:17.751 +03:00 [DBG] An entity of type 'Guest' tracked by 'HotelContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:17.753 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:21:17.755 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.756 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.758 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:17.759 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:17.760 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:21:17.762 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Guests] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:21:17.767 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Guests] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:21:17.769 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.770 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:21:17.772 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.773 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:17.775 +03:00 [DBG] An entity of type 'Guest' tracked by 'HotelContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:17.777 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 1 entities written to the database.
2024-07-10 12:21:17.779 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:21:17.780 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork) in 89.2703ms
2024-07-10 12:21:17.781 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:21:17.783 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:17.784 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:17.785 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:17.787 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:17.788 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/guests/2 - 204 null null 118.2885ms
2024-07-10 12:21:19.575 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/guests/2 - null null
2024-07-10 12:21:19.579 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/2'
2024-07-10 12:21:19.580 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/2'
2024-07-10 12:21:19.582 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:21:19.584 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:19.584 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:19.586 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:21:19.587 +03:00 [INF] Route matched with {action = "DeleteGuest", controller = "Guests"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest] DeleteGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:21:19.589 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:19.591 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:19.594 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:19.595 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:19.597 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:19.598 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:19.600 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:19.601 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:21:19.602 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:21:19.603 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:19.604 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:19.605 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:21:19.606 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:19.608 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:19.611 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:19.612 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:21:19.613 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:19.614 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:19.615 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:19.616 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:19.618 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:21:19.619 +03:00 [DBG] Executing DbCommand [Parameters=[@__guestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__guestId_0
2024-07-10 12:21:19.621 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__guestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__guestId_0
2024-07-10 12:21:19.623 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:19.624 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:19.626 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:21:19.628 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:19.629 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:19.631 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:21:19.634 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:21:19.634 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:21:19.635 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:21:19.636 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-10 12:21:19.637 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-10 12:21:19.639 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork) in 40.5575ms
2024-07-10 12:21:19.640 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.DeleteGuest (API_HomeWork)'
2024-07-10 12:21:19.641 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:19.642 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:19.644 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:19.645 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:19.647 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/guests/2 - 400 null text/plain; charset=utf-8 71.7424ms
2024-07-10 12:21:23.410 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/guests/2 - null null
2024-07-10 12:21:23.413 +03:00 [DBG] 1 candidate(s) found for the request path '/api/guests/2'
2024-07-10 12:21:23.414 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)' with route pattern 'api/Guests/{guestId}' is valid for the request path '/api/guests/2'
2024-07-10 12:21:23.416 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:21:23.417 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:23.418 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:23.419 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:21:23.420 +03:00 [INF] Route matched with {action = "GetGuest", controller = "Guests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Guest]] GetGuest(Int32) on controller API_HomeWork.Controllers.GuestsController (API_HomeWork).
2024-07-10 12:21:23.422 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:23.424 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:23.426 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:23.427 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:23.429 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:23.430 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:23.431 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.GuestsController (API_HomeWork)
2024-07-10 12:21:23.433 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:21:23.434 +03:00 [DBG] Attempting to bind parameter 'guestId' of type 'System.Int32' using the name 'guestId' in request data ...
2024-07-10 12:21:23.436 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:23.438 +03:00 [DBG] Done attempting to bind parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:23.439 +03:00 [DBG] Attempting to validate the bound parameter 'guestId' of type 'System.Int32' ...
2024-07-10 12:21:23.442 +03:00 [DBG] Done attempting to validate the bound parameter 'guestId' of type 'System.Int32'.
2024-07-10 12:21:23.444 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:23.446 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:23.447 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:21:23.448 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:23.450 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:23.451 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:23.452 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:23.453 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:21:23.455 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:21:23.460 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[DOB], [g].[Email], [g].[FirstName], [g].[HotelId], [g].[IsDelete], [g].[LastName], [g].[Phone]
FROM [Guests] AS [g]
WHERE [g].[Id] = @__id_0
2024-07-10 12:21:23.462 +03:00 [DBG] Context 'HotelContext' started tracking 'Guest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:23.464 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:23.465 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:21:23.467 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:23.468 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:23.470 +03:00 [WRN] This guest with ID 2 does not exist. Please try again later
2024-07-10 12:21:23.471 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:21:23.474 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:21:23.475 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 12:21:23.477 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 12:21:23.479 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-10 12:21:23.480 +03:00 [INF] Executed action API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork) in 50.0284ms
2024-07-10 12:21:23.482 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.GuestsController.GetGuest (API_HomeWork)'
2024-07-10 12:21:23.483 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:23.484 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:23.486 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:23.487 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:23.490 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/guests/2 - 404 null application/problem+json; charset=utf-8 79.2696ms
2024-07-10 12:21:35.124 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels - null null
2024-07-10 12:21:35.127 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels'
2024-07-10 12:21:35.129 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)' with route pattern 'api/Hotels' is valid for the request path '/api/Hotels'
2024-07-10 12:21:35.131 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:21:35.132 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:35.133 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:35.135 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:21:35.136 +03:00 [INF] Route matched with {action = "GetHotelsWithOut", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Hotel]]] GetHotelsWithOut() on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 12:21:35.138 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:35.140 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:35.141 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:35.143 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:35.145 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:35.147 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:21:35.149 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:21:35.152 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:35.154 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:35.155 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:21:35.156 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:35.157 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:35.159 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:35.160 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:35.162 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:21:35.164 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:21:35.169 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:21:35.171 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.173 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.175 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.177 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.178 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.181 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.182 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.183 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.185 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.186 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.187 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.188 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.190 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:35.191 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:35.193 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 21ms reading results.
2024-07-10 12:21:35.195 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:35.197 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-07-10 12:21:35.199 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:21:35.201 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:21:35.202 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:21:35.203 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:21:35.203 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:21:35.205 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Repositories.ModelForCreate.HotelWithOutEnyThing, Repositories, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 12:21:35.206 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork) in 59.2233ms
2024-07-10 12:21:35.208 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:21:35.209 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:35.211 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:35.213 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:35.215 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:35.216 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels - 200 null application/json; charset=utf-8 92.2403ms
2024-07-10 12:21:43.278 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels/1 - null null
2024-07-10 12:21:43.281 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels/1'
2024-07-10 12:21:43.282 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)' with route pattern 'api/Hotels/{hotelId}' is valid for the request path '/api/Hotels/1'
2024-07-10 12:21:43.284 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:21:43.286 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:43.287 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:43.289 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:21:43.290 +03:00 [INF] Route matched with {action = "GetHotel", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Hotel]] GetHotel(Int32) on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 12:21:43.293 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:43.295 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:43.297 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:43.299 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:43.301 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:43.303 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:21:43.306 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:21:43.307 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:21:43.309 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' using the name 'hotelId' in request data ...
2024-07-10 12:21:43.310 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:43.312 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:43.313 +03:00 [DBG] Attempting to validate the bound parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:21:43.315 +03:00 [DBG] Done attempting to validate the bound parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:43.324 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:43.326 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:43.327 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:21:43.328 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:43.329 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:43.331 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:43.332 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:43.333 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:21:43.334 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:21:43.339 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:21:43.342 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:43.343 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:43.344 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:21:43.346 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:43.348 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:43.349 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:21:43.352 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:21:43.353 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:21:43.354 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:21:43.356 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:21:43.357 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Hotel'.
2024-07-10 12:21:43.358 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork) in 55.45ms
2024-07-10 12:21:43.360 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:21:43.361 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:43.363 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:43.364 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:43.365 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:43.367 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels/1 - 200 null application/json; charset=utf-8 89.6436ms
2024-07-10 12:21:46.832 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/Hotels/1 - null null
2024-07-10 12:21:46.835 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels/1'
2024-07-10 12:21:46.837 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.DeleteHotel (API_HomeWork)' with route pattern 'api/Hotels/{hotelId}' is valid for the request path '/api/Hotels/1'
2024-07-10 12:21:46.839 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.DeleteHotel (API_HomeWork)'
2024-07-10 12:21:46.840 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:46.841 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:46.843 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.DeleteHotel (API_HomeWork)'
2024-07-10 12:21:46.845 +03:00 [INF] Route matched with {action = "DeleteHotel", controller = "Hotels"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Hotel] DeleteHotel(Int32) on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 12:21:46.847 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:46.848 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:46.850 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:46.853 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:46.854 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:46.856 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:21:46.858 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:21:46.859 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:21:46.860 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' using the name 'hotelId' in request data ...
2024-07-10 12:21:46.862 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:46.863 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:46.865 +03:00 [DBG] Attempting to validate the bound parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:21:46.867 +03:00 [DBG] Done attempting to validate the bound parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:46.870 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:46.872 +03:00 [DBG] Compiling query expression: 
'DbSet<Hotel>()
    .FirstOrDefault(h => h.Id == __hotelId_0)'
2024-07-10 12:21:46.878 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Hotel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Hotel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Hotel.Address (string) Required, 1], [Property: Hotel.Email (string) Required, 2], [Property: Hotel.IsDelete (bool) Required, 3], [Property: Hotel.Name (string) Required, 4], [Property: Hotel.Phone (string) Required, 5] }
        SELECT TOP(1) h.Id, h.Address, h.Email, h.IsDelete, h.Name, h.Phone
        FROM Hotels AS h
        WHERE h.Id == @__hotelId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Hotel>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-10 12:21:46.881 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:46.883 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:21:46.885 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.887 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.889 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:46.890 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:46.891 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:21:46.893 +03:00 [DBG] Executing DbCommand [Parameters=[@__hotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__hotelId_0
2024-07-10 12:21:46.897 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__hotelId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__hotelId_0
2024-07-10 12:21:46.900 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:46.902 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.904 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 4ms reading results.
2024-07-10 12:21:46.906 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.907 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:46.910 +03:00 [DBG] Compiling query expression: 
'DbSet<Hotel>()
    .FirstOrDefault(h => h.Id == __id_0)'
2024-07-10 12:21:46.914 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Hotel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Hotel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Hotel.Address (string) Required, 1], [Property: Hotel.Email (string) Required, 2], [Property: Hotel.IsDelete (bool) Required, 3], [Property: Hotel.Name (string) Required, 4], [Property: Hotel.Phone (string) Required, 5] }
        SELECT TOP(1) h.Id, h.Address, h.Email, h.IsDelete, h.Name, h.Phone
        FROM Hotels AS h
        WHERE h.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Hotel>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-10 12:21:46.916 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.918 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.920 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:46.921 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:46.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:21:46.924 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:21:46.927 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:21:46.930 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.931 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:21:46.933 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.935 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:46.937 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:21:46.938 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:21:46.939 +03:00 [DBG] The unchanged property 'Hotel.IsDelete' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:21:46.941 +03:00 [DBG] An entity of type 'Hotel' tracked by 'HotelContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:46.943 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:21:46.945 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.946 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.947 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:46.948 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:46.951 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:21:46.953 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Hotels] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:21:46.958 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Hotels] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:21:46.960 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.962 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:21:46.963 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.964 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:46.966 +03:00 [DBG] An entity of type 'Hotel' tracked by 'HotelContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:46.969 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 1 entities written to the database.
2024-07-10 12:21:46.972 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:21:46.973 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.DeleteHotel (API_HomeWork) in 117.2071ms
2024-07-10 12:21:46.975 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.DeleteHotel (API_HomeWork)'
2024-07-10 12:21:46.976 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:46.977 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:46.978 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:46.980 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:46.982 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/Hotels/1 - 204 null null 150.2008ms
2024-07-10 12:21:49.730 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels/1 - null null
2024-07-10 12:21:49.734 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels/1'
2024-07-10 12:21:49.735 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)' with route pattern 'api/Hotels/{hotelId}' is valid for the request path '/api/Hotels/1'
2024-07-10 12:21:49.737 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:21:49.738 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:21:49.739 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:21:49.740 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:21:49.742 +03:00 [INF] Route matched with {action = "GetHotel", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Hotel]] GetHotel(Int32) on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 12:21:49.743 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:21:49.745 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:21:49.747 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:21:49.749 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:21:49.750 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:21:49.752 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:21:49.753 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:21:49.755 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:21:49.756 +03:00 [DBG] Attempting to bind parameter 'hotelId' of type 'System.Int32' using the name 'hotelId' in request data ...
2024-07-10 12:21:49.758 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:49.759 +03:00 [DBG] Done attempting to bind parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:49.760 +03:00 [DBG] Attempting to validate the bound parameter 'hotelId' of type 'System.Int32' ...
2024-07-10 12:21:49.762 +03:00 [DBG] Done attempting to validate the bound parameter 'hotelId' of type 'System.Int32'.
2024-07-10 12:21:49.764 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:21:49.767 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:21:49.768 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:21:49.769 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:49.770 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:49.772 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:21:49.773 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:21:49.774 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:21:49.775 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:21:49.780 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_0
2024-07-10 12:21:49.783 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:21:49.784 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:49.786 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:21:49.787 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:49.788 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:21:49.790 +03:00 [WRN] This hotel with ID 1 does not exist. Please try again later
2024-07-10 12:21:49.791 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:21:49.793 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:21:49.794 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 12:21:49.796 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 12:21:49.797 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-10 12:21:49.799 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork) in 47.6865ms
2024-07-10 12:21:49.801 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotel (API_HomeWork)'
2024-07-10 12:21:49.803 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:21:49.804 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:21:49.805 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:21:49.806 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:21:49.808 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels/1 - 404 null application/problem+json; charset=utf-8 78.2081ms
2024-07-10 12:22:03.309 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Bookings/2 - null null
2024-07-10 12:22:03.317 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/2'
2024-07-10 12:22:03.319 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/2'
2024-07-10 12:22:03.321 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:22:03.322 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:22:03.323 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:22:03.324 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:22:03.325 +03:00 [INF] Route matched with {action = "GetBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] GetBooking(Int32) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:22:03.327 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:22:03.328 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:22:03.330 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:22:03.332 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:22:03.334 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:22:03.336 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:03.337 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:03.338 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:22:03.339 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:22:03.341 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:03.342 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:03.343 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:22:03.344 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:03.345 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:22:03.347 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:22:03.348 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:22:03.349 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:03.350 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:03.352 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:22:03.353 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:22:03.354 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:22:03.355 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:22:03.362 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:22:03.364 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:03.365 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:03.366 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:22:03.369 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:03.370 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:22:03.372 +03:00 [WRN] This booking with ID 2 does not exist. Please try again later
2024-07-10 12:22:03.373 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:22:03.375 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:22:03.375 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 12:22:03.377 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 12:22:03.378 +03:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-07-10 12:22:03.380 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork) in 43.9803ms
2024-07-10 12:22:03.381 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:22:03.382 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:22:03.384 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:22:03.386 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:03.388 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:22:03.389 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Bookings/2 - 404 null application/problem+json; charset=utf-8 80.3706ms
2024-07-10 12:22:10.647 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Bookings - null null
2024-07-10 12:22:10.650 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings'
2024-07-10 12:22:10.652 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork)' with route pattern 'api/Bookings' is valid for the request path '/api/Bookings'
2024-07-10 12:22:10.654 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork)'
2024-07-10 12:22:10.655 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:22:10.656 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:22:10.657 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork)'
2024-07-10 12:22:10.663 +03:00 [INF] Route matched with {action = "GetBookings", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Booking]]] GetBookings() on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:22:10.665 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:22:10.667 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:22:10.668 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:22:10.670 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:22:10.672 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:22:10.674 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:10.675 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:10.680 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:22:10.683 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .Where(b => b.IsDelete == False)'
2024-07-10 12:22:10.688 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Booking>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckInAt (DateTime) Required, 1], [Property: Booking.CheckOutAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.GuestId (int) Required FK Index, 4], [Property: Booking.IsDelete (bool) Required, 5], [Property: Booking.Price (double) Required, 6], [Property: Booking.RoomId (int) Required FK Index, 7] }
        SELECT b.Id, b.CheckInAt, b.CheckOutAt, b.EmployeeId, b.GuestId, b.IsDelete, b.Price, b.RoomId
        FROM Bookings AS b
        WHERE b.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Booking>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 12:22:10.690 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:22:10.691 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:22:10.692 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:10.694 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:10.696 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:22:10.697 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:22:10.698 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:22:10.699 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:22:10.706 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:22:10.708 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:10.711 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:10.713 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:10.715 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:10.716 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 8ms reading results.
2024-07-10 12:22:10.718 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:10.719 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:22:10.722 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:22:10.724 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:22:10.724 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:22:10.725 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:22:10.726 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:22:10.728 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[API_HomeWork.Models.Booking, HotelsManegment, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 12:22:10.730 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork) in 56.3277ms
2024-07-10 12:22:10.731 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.GetBookings (API_HomeWork)'
2024-07-10 12:22:10.733 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:22:10.734 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:22:10.735 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:10.737 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:22:10.739 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Bookings - 200 null application/json; charset=utf-8 92.0582ms
2024-07-10 12:22:20.216 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Bookings/1003 - null null
2024-07-10 12:22:20.219 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:22:20.221 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:22:20.223 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:22:20.224 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:22:20.225 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:22:20.226 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:22:20.228 +03:00 [INF] Route matched with {action = "GetBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] GetBooking(Int32) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:22:20.229 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:22:20.231 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:22:20.232 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:22:20.235 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:22:20.237 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:22:20.238 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:20.240 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:20.241 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:22:20.243 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:22:20.244 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:20.245 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:20.247 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:22:20.248 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:20.250 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:22:20.252 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:22:20.254 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:22:20.255 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:20.257 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:20.258 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:22:20.259 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:22:20.260 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:22:20.261 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:22:20.266 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:22:20.269 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:20.271 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:20.272 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:22:20.274 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:20.275 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:22:20.277 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:22:20.279 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:22:20.280 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:22:20.280 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:22:20.281 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:22:20.283 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Booking'.
2024-07-10 12:22:20.284 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork) in 45.7649ms
2024-07-10 12:22:20.286 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.GetBooking (API_HomeWork)'
2024-07-10 12:22:20.288 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:22:20.289 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:22:20.290 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:20.292 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:22:20.293 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Bookings/1003 - 200 null application/json; charset=utf-8 77.1368ms
2024-07-10 12:22:24.291 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/Bookings/1003 - null null
2024-07-10 12:22:24.294 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:22:24.295 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:22:24.297 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork)'
2024-07-10 12:22:24.298 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:22:24.299 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:22:24.301 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork)'
2024-07-10 12:22:24.304 +03:00 [INF] Route matched with {action = "DeleteBooking", controller = "Bookings"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking] DeleteBooking(Int32) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:22:24.306 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:22:24.308 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:22:24.310 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:22:24.311 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:22:24.313 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:22:24.315 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:24.318 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:24.319 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:22:24.320 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:22:24.322 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:24.323 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:24.324 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:22:24.326 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:24.328 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:22:24.333 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .FirstOrDefault(b => b.Id == __bookingId_0)'
2024-07-10 12:22:24.337 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Booking>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckInAt (DateTime) Required, 1], [Property: Booking.CheckOutAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.GuestId (int) Required FK Index, 4], [Property: Booking.IsDelete (bool) Required, 5], [Property: Booking.Price (double) Required, 6], [Property: Booking.RoomId (int) Required FK Index, 7] }
        SELECT TOP(1) b.Id, b.CheckInAt, b.CheckOutAt, b.EmployeeId, b.GuestId, b.IsDelete, b.Price, b.RoomId
        FROM Bookings AS b
        WHERE b.Id == @__bookingId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Booking>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-10 12:22:24.339 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:22:24.340 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:22:24.341 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.343 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.344 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:22:24.345 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:22:24.346 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:22:24.349 +03:00 [DBG] Executing DbCommand [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__bookingId_0
2024-07-10 12:22:24.353 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__bookingId_0
2024-07-10 12:22:24.355 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:24.356 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.358 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:22:24.359 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.360 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:22:24.363 +03:00 [DBG] Compiling query expression: 
'DbSet<Booking>()
    .FirstOrDefault(b => b.Id == __id_0)'
2024-07-10 12:22:24.368 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Booking>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Booking.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Booking.CheckInAt (DateTime) Required, 1], [Property: Booking.CheckOutAt (DateTime) Required, 2], [Property: Booking.EmployeeId (int) Required FK Index, 3], [Property: Booking.GuestId (int) Required FK Index, 4], [Property: Booking.IsDelete (bool) Required, 5], [Property: Booking.Price (double) Required, 6], [Property: Booking.RoomId (int) Required FK Index, 7] }
        SELECT TOP(1) b.Id, b.CheckInAt, b.CheckOutAt, b.EmployeeId, b.GuestId, b.IsDelete, b.Price, b.RoomId
        FROM Bookings AS b
        WHERE b.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Booking>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-10 12:22:24.370 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.371 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.372 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:22:24.373 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:22:24.374 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:22:24.376 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:22:24.379 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-07-10 12:22:24.382 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.384 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:22:24.385 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.386 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:22:24.388 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:22:24.389 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:22:24.390 +03:00 [DBG] The unchanged property 'Booking.IsDelete' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:22:24.391 +03:00 [DBG] An entity of type 'Booking' tracked by 'HotelContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:24.393 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:22:24.394 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.396 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.398 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:22:24.399 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:22:24.401 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:22:24.402 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Bookings] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:22:24.407 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Bookings] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:22:24.409 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.411 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:22:24.412 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.414 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:22:24.416 +03:00 [DBG] An entity of type 'Booking' tracked by 'HotelContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:24.418 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 1 entities written to the database.
2024-07-10 12:22:24.419 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:22:24.420 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork) in 104.8077ms
2024-07-10 12:22:24.421 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork)'
2024-07-10 12:22:24.422 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:22:24.423 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:22:24.425 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:24.427 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:22:24.428 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/Bookings/1003 - 204 null null 137.4315ms
2024-07-10 12:22:25.484 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/Bookings/1003 - null null
2024-07-10 12:22:25.487 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings/1003'
2024-07-10 12:22:25.489 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork)' with route pattern 'api/Bookings/{bookingId}' is valid for the request path '/api/Bookings/1003'
2024-07-10 12:22:25.491 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork)'
2024-07-10 12:22:25.492 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:22:25.493 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:22:25.494 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork)'
2024-07-10 12:22:25.495 +03:00 [INF] Route matched with {action = "DeleteBooking", controller = "Bookings"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking] DeleteBooking(Int32) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:22:25.498 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:22:25.500 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:22:25.501 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:22:25.503 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:22:25.505 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:22:25.506 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:25.508 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:22:25.510 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:22:25.511 +03:00 [DBG] Attempting to bind parameter 'bookingId' of type 'System.Int32' using the name 'bookingId' in request data ...
2024-07-10 12:22:25.513 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:25.515 +03:00 [DBG] Done attempting to bind parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:25.517 +03:00 [DBG] Attempting to validate the bound parameter 'bookingId' of type 'System.Int32' ...
2024-07-10 12:22:25.518 +03:00 [DBG] Done attempting to validate the bound parameter 'bookingId' of type 'System.Int32'.
2024-07-10 12:22:25.520 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:22:25.522 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:22:25.523 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:22:25.525 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:25.526 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:25.527 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:22:25.528 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:22:25.531 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:22:25.533 +03:00 [DBG] Executing DbCommand [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__bookingId_0
2024-07-10 12:22:25.537 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__bookingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CheckInAt], [b].[CheckOutAt], [b].[EmployeeId], [b].[GuestId], [b].[IsDelete], [b].[Price], [b].[RoomId]
FROM [Bookings] AS [b]
WHERE [b].[Id] = @__bookingId_0
2024-07-10 12:22:25.539 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:25.541 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:25.542 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 3ms reading results.
2024-07-10 12:22:25.544 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:25.546 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:22:25.548 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:22:25.551 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:22:25.552 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:22:25.552 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:22:25.553 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-10 12:22:25.555 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-10 12:22:25.556 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork) in 49.9655ms
2024-07-10 12:22:25.557 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.DeleteBooking (API_HomeWork)'
2024-07-10 12:22:25.559 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:22:25.560 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:22:25.561 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:25.563 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:22:25.565 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/Bookings/1003 - 400 null text/plain; charset=utf-8 80.9105ms
2024-07-10 12:22:56.481 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Employee/4 - null null
2024-07-10 12:22:56.496 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2024-07-10 12:22:56.497 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/4'
2024-07-10 12:22:56.499 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:22:56.500 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:22:56.502 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:22:56.503 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:22:56.504 +03:00 [INF] Route matched with {action = "GetEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee]] GetEmployee(Int32) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:22:56.506 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:22:56.507 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:22:56.508 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:22:56.510 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:22:56.512 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:22:56.513 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:22:56.514 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:22:56.516 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:22:56.518 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 12:22:56.520 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:22:56.521 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:22:56.523 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:22:56.524 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:22:56.526 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:22:56.528 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:22:56.529 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:22:56.530 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:56.531 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:56.533 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:22:56.535 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:22:56.536 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:22:56.538 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 12:22:56.543 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 12:22:56.545 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:22:56.546 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:56.547 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:22:56.549 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:56.551 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:22:56.554 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:22:56.556 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:22:56.557 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:22:56.558 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:22:56.560 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:22:56.561 +03:00 [INF] Executing OkObjectResult, writing value of type 'API_HomeWork.Models.Employee'.
2024-07-10 12:22:56.563 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork) in 49.9387ms
2024-07-10 12:22:56.564 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.GetEmployee (API_HomeWork)'
2024-07-10 12:22:56.566 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:22:56.568 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:22:56.569 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:22:56.571 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:22:56.573 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Employee/4 - 200 null application/json; charset=utf-8 91.6909ms
2024-07-10 12:23:08.166 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/Employee/4 - null null
2024-07-10 12:23:08.169 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2024-07-10 12:23:08.170 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/4'
2024-07-10 12:23:08.173 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork)'
2024-07-10 12:23:08.174 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:23:08.176 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:23:08.177 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork)'
2024-07-10 12:23:08.179 +03:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee] DeleteEmployee(Int32) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:23:08.181 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:23:08.182 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:23:08.184 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:23:08.186 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:23:08.187 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:23:08.189 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:23:08.191 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:23:08.192 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:23:08.193 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 12:23:08.195 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:23:08.196 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:23:08.197 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:23:08.198 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:23:08.201 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:23:08.203 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(e => e.Id == __employeeId_0)'
2024-07-10 12:23:08.209 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (string) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HotelId (int) Required FK Index, 4], [Property: Employee.IsDelete (bool) Required, 5], [Property: Employee.Lastname (string) Required, 6], [Property: Employee.StartDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HotelId, e.IsDelete, e.Lastname, e.StartDate, e.Title
        FROM Employee AS e
        WHERE e.Id == @__employeeId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-10 12:23:08.212 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:23:08.212 +03:00 [DBG] Created DbConnection. (0ms).
2024-07-10 12:23:08.214 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.215 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.216 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:23:08.217 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-07-10 12:23:08.218 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:23:08.219 +03:00 [DBG] Executing DbCommand [Parameters=[@__employeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__employeeId_0
2024-07-10 12:23:08.225 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__employeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__employeeId_0
2024-07-10 12:23:08.227 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:23:08.228 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.230 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:23:08.231 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.232 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:23:08.234 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()
    .FirstOrDefault(e => e.Id == __id_0)'
2024-07-10 12:23:08.240 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.DOB (string) Required, 1], [Property: Employee.Email (string) Required, 2], [Property: Employee.FirstName (string) Required, 3], [Property: Employee.HotelId (int) Required FK Index, 4], [Property: Employee.IsDelete (bool) Required, 5], [Property: Employee.Lastname (string) Required, 6], [Property: Employee.StartDate (DateTime) Required, 7], [Property: Employee.Title (string) Required, 8] }
        SELECT TOP(1) e.Id, e.DOB, e.Email, e.FirstName, e.HotelId, e.IsDelete, e.Lastname, e.StartDate, e.Title
        FROM Employee AS e
        WHERE e.Id == @__id_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)
    .SingleOrDefault()'
2024-07-10 12:23:08.243 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.244 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:23:08.247 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:23:08.248 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:23:08.250 +03:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 12:23:08.253 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__id_0
2024-07-10 12:23:08.256 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.258 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:23:08.259 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.261 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:23:08.262 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:23:08.263 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:23:08.268 +03:00 [DBG] The unchanged property 'Employee.IsDelete' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-07-10 12:23:08.270 +03:00 [DBG] An entity of type 'Employee' tracked by 'HotelContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:23:08.277 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:23:08.278 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.280 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.281 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:23:08.282 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:23:08.283 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:23:08.284 +03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employee] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:23:08.291 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employee] SET [IsDelete] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-07-10 12:23:08.293 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.294 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 1ms reading results.
2024-07-10 12:23:08.295 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.297 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:23:08.299 +03:00 [DBG] An entity of type 'Employee' tracked by 'HotelContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:23:08.300 +03:00 [DBG] SaveChanges completed for 'HotelContext' with 1 entities written to the database.
2024-07-10 12:23:08.302 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-07-10 12:23:08.303 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork) in 114.1923ms
2024-07-10 12:23:08.304 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork)'
2024-07-10 12:23:08.305 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:23:08.307 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:23:08.309 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:08.310 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:23:08.312 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/Employee/4 - 204 null null 145.8161ms
2024-07-10 12:23:10.706 +03:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7018/api/Employee/4 - null null
2024-07-10 12:23:10.708 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/4'
2024-07-10 12:23:10.710 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork)' with route pattern 'api/Employee/{employeeId}' is valid for the request path '/api/Employee/4'
2024-07-10 12:23:10.711 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork)'
2024-07-10 12:23:10.712 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:23:10.713 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:23:10.715 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork)'
2024-07-10 12:23:10.716 +03:00 [INF] Route matched with {action = "DeleteEmployee", controller = "Employee"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee] DeleteEmployee(Int32) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:23:10.718 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:23:10.720 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:23:10.722 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:23:10.725 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:23:10.726 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:23:10.728 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:23:10.730 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:23:10.731 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:23:10.733 +03:00 [DBG] Attempting to bind parameter 'employeeId' of type 'System.Int32' using the name 'employeeId' in request data ...
2024-07-10 12:23:10.735 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:23:10.736 +03:00 [DBG] Done attempting to bind parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:23:10.738 +03:00 [DBG] Attempting to validate the bound parameter 'employeeId' of type 'System.Int32' ...
2024-07-10 12:23:10.740 +03:00 [DBG] Done attempting to validate the bound parameter 'employeeId' of type 'System.Int32'.
2024-07-10 12:23:10.741 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:23:10.744 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:23:10.745 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:23:10.746 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:10.748 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:10.749 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:23:10.751 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:23:10.752 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-07-10 12:23:10.754 +03:00 [DBG] Executing DbCommand [Parameters=[@__employeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__employeeId_0
2024-07-10 12:23:10.758 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__employeeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[Id], [e].[DOB], [e].[Email], [e].[FirstName], [e].[HotelId], [e].[IsDelete], [e].[Lastname], [e].[StartDate], [e].[Title]
FROM [Employee] AS [e]
WHERE [e].[Id] = @__employeeId_0
2024-07-10 12:23:10.761 +03:00 [DBG] Context 'HotelContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:23:10.762 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:10.763 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:23:10.764 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:10.766 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (1ms).
2024-07-10 12:23:10.767 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:23:10.770 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:23:10.772 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:23:10.772 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:23:10.773 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-10 12:23:10.775 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-07-10 12:23:10.777 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork) in 48.9205ms
2024-07-10 12:23:10.778 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.DeleteEmployee (API_HomeWork)'
2024-07-10 12:23:10.779 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:23:10.781 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:23:10.782 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:23:10.783 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:23:10.785 +03:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7018/api/Employee/4 - 400 null text/plain; charset=utf-8 79.1963ms
2024-07-10 12:25:42.144 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7018/api/Employee - application/json 86
2024-07-10 12:25:42.152 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee'
2024-07-10 12:25:42.153 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.EmployeeController.AddEmployee (API_HomeWork)' with route pattern 'api/Employee' is valid for the request path '/api/Employee'
2024-07-10 12:25:42.154 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.EmployeeController.AddEmployee (API_HomeWork)'
2024-07-10 12:25:42.155 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:25:42.156 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:25:42.157 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.EmployeeController.AddEmployee (API_HomeWork)'
2024-07-10 12:25:42.163 +03:00 [INF] Route matched with {action = "AddEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Employee]] AddEmployee(Repository.ModelForCreate.EmployeeForCreate) on controller API_HomeWork.Controllers.EmployeeController (API_HomeWork).
2024-07-10 12:25:42.165 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:25:42.166 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:25:42.168 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:25:42.169 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:25:42.170 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:25:42.172 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:25:42.173 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.EmployeeController (API_HomeWork)
2024-07-10 12:25:42.174 +03:00 [DBG] Attempting to bind parameter 'employee' of type 'Repository.ModelForCreate.EmployeeForCreate' ...
2024-07-10 12:25:42.176 +03:00 [DBG] Attempting to bind parameter 'employee' of type 'Repository.ModelForCreate.EmployeeForCreate' using the name '' in request data ...
2024-07-10 12:25:42.178 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:25:42.181 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000028": started reading request body.
2024-07-10 12:25:42.182 +03:00 [DBG] Connection id "0HN50O0J6N6U2", Request id "0HN50O0J6N6U2:00000028": done reading request body.
2024-07-10 12:25:42.184 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForCreate.EmployeeForCreate'
2024-07-10 12:25:42.185 +03:00 [DBG] Done attempting to bind parameter 'employee' of type 'Repository.ModelForCreate.EmployeeForCreate'.
2024-07-10 12:25:42.187 +03:00 [DBG] Done attempting to bind parameter 'employee' of type 'Repository.ModelForCreate.EmployeeForCreate'.
2024-07-10 12:25:42.188 +03:00 [DBG] Attempting to validate the bound parameter 'employee' of type 'Repository.ModelForCreate.EmployeeForCreate' ...
2024-07-10 12:25:42.196 +03:00 [DBG] Done attempting to validate the bound parameter 'employee' of type 'Repository.ModelForCreate.EmployeeForCreate'.
2024-07-10 12:25:42.198 +03:00 [DBG] The request has model state errors, returning an error response.
2024-07-10 12:25:42.201 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-07-10 12:25:42.203 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:25:42.205 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:25:42.206 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-07-10 12:25:42.209 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-07-10 12:25:42.210 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-07-10 12:25:42.215 +03:00 [INF] Executed action API_HomeWork.Controllers.EmployeeController.AddEmployee (API_HomeWork) in 43.867ms
2024-07-10 12:25:42.224 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.EmployeeController.AddEmployee (API_HomeWork)'
2024-07-10 12:25:42.226 +03:00 [DBG] Connection id "0HN50O0J6N6U2" completed keep alive response.
2024-07-10 12:25:42.227 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7018/api/Employee - 400 null application/problem+json; charset=utf-8 83.5993ms
2024-07-10 12:27:09.205 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-10 12:27:09.316 +03:00 [DBG] Hosting starting
2024-07-10 12:27:09.350 +03:00 [INF] User profile is available. Using 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-10 12:27:09.362 +03:00 [DBG] Reading data from file 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys\key-ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc.xml'.
2024-07-10 12:27:09.373 +03:00 [DBG] Found key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc}.
2024-07-10 12:27:09.383 +03:00 [DBG] Considering key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} with expiration date 2024-10-06 16:05:45Z as default key.
2024-07-10 12:27:09.387 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 12:27:09.390 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-10 12:27:09.394 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 12:27:09.402 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-10 12:27:09.405 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-10 12:27:09.408 +03:00 [DBG] Using key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} as the default key.
2024-07-10 12:27:09.410 +03:00 [DBG] Key ring with default key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} was loaded during application startup.
2024-07-10 12:27:09.630 +03:00 [INF] Now listening on: https://localhost:7018
2024-07-10 12:27:09.631 +03:00 [INF] Now listening on: http://localhost:5033
2024-07-10 12:27:09.633 +03:00 [DBG] Loaded hosting startup assembly API_HomeWork
2024-07-10 12:27:09.634 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-10 12:27:09.636 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-10 12:27:09.637 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-10 12:27:09.638 +03:00 [INF] Hosting environment: Development
2024-07-10 12:27:09.639 +03:00 [INF] Content root path: C:\Users\Abdal\source\repos\API_HomeWork_Abdallah\API_HomeWork
2024-07-10 12:27:09.641 +03:00 [DBG] Hosting started
2024-07-10 12:27:10.046 +03:00 [DBG] Connection id "0HN50O9SM7RLA" accepted.
2024-07-10 12:27:10.048 +03:00 [DBG] Connection id "0HN50O9SM7RLA" started.
2024-07-10 12:27:10.053 +03:00 [DBG] Connection id "0HN50O9SM7RLA" received FIN.
2024-07-10 12:27:10.053 +03:00 [DBG] Connection id "0HN50O9SM7RLB" received FIN.
2024-07-10 12:27:10.061 +03:00 [DBG] Connection id "0HN50O9SM7RLB" accepted.
2024-07-10 12:27:10.063 +03:00 [DBG] Connection id "0HN50O9SM7RLB" started.
2024-07-10 12:27:10.074 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 12:27:10.074 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 12:27:10.116 +03:00 [DBG] Connection id "0HN50O9SM7RLB" stopped.
2024-07-10 12:27:10.116 +03:00 [DBG] Connection id "0HN50O9SM7RLA" stopped.
2024-07-10 12:27:10.121 +03:00 [DBG] Connection id "0HN50O9SM7RLB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:27:10.121 +03:00 [DBG] Connection id "0HN50O9SM7RLA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:27:10.352 +03:00 [DBG] Connection id "0HN50O9SM7RLC" accepted.
2024-07-10 12:27:10.354 +03:00 [DBG] Connection id "0HN50O9SM7RLC" started.
2024-07-10 12:27:10.422 +03:00 [DBG] Connection 0HN50O9SM7RLC established using the following protocol: "Tls13"
2024-07-10 12:27:10.481 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/index.html - null null
2024-07-10 12:27:10.606 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-10 12:27:10.632 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-10 12:27:10.634 +03:00 [DBG] Request did not match any endpoints
2024-07-10 12:27:10.756 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-10 12:27:10.761 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-10 12:27:10.789 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-10 12:27:10.791 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-10 12:27:10.802 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/index.html - 200 null text/html;charset=utf-8 326.6918ms
2024-07-10 12:27:10.802 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_vs/browserLink - null null
2024-07-10 12:27:10.803 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - null null
2024-07-10 12:27:10.839 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 36.1719ms
2024-07-10 12:27:10.879 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_vs/browserLink - 200 null text/javascript; charset=UTF-8 77.7606ms
2024-07-10 12:27:10.982 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - null null
2024-07-10 12:27:10.985 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-10 12:27:10.986 +03:00 [DBG] Request did not match any endpoints
2024-07-10 12:27:11.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 215.5971ms
2024-07-10 12:27:13.166 +03:00 [DBG] Connection id "0HN50O9SM7RLC" received FIN.
2024-07-10 12:27:13.173 +03:00 [DBG] The connection queue processing loop for 0HN50O9SM7RLC completed.
2024-07-10 12:27:13.175 +03:00 [DBG] Connection id "0HN50O9SM7RLC" is closed. The last processed stream ID was 7.
2024-07-10 12:27:13.176 +03:00 [DBG] Connection id "0HN50O9SM7RLC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:27:13.181 +03:00 [DBG] Connection id "0HN50O9SM7RLC" stopped.
2024-07-10 12:28:05.512 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-07-10 12:28:05.629 +03:00 [DBG] Hosting starting
2024-07-10 12:28:05.666 +03:00 [INF] User profile is available. Using 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-07-10 12:28:05.677 +03:00 [DBG] Reading data from file 'C:\Users\Abdal\AppData\Local\ASP.NET\DataProtection-Keys\key-ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc.xml'.
2024-07-10 12:28:05.694 +03:00 [DBG] Found key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc}.
2024-07-10 12:28:05.708 +03:00 [DBG] Considering key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} with expiration date 2024-10-06 16:05:45Z as default key.
2024-07-10 12:28:05.715 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 12:28:05.720 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-07-10 12:28:05.723 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-07-10 12:28:05.730 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-07-10 12:28:05.733 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-07-10 12:28:05.736 +03:00 [DBG] Using key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} as the default key.
2024-07-10 12:28:05.739 +03:00 [DBG] Key ring with default key {ae2ae8e1-2e68-4ae0-afb0-666c1abaa0fc} was loaded during application startup.
2024-07-10 12:28:05.947 +03:00 [INF] Now listening on: https://localhost:7018
2024-07-10 12:28:05.949 +03:00 [INF] Now listening on: http://localhost:5033
2024-07-10 12:28:05.951 +03:00 [DBG] Loaded hosting startup assembly API_HomeWork
2024-07-10 12:28:05.952 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-07-10 12:28:05.954 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-07-10 12:28:05.956 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-07-10 12:28:05.957 +03:00 [INF] Hosting environment: Development
2024-07-10 12:28:05.958 +03:00 [INF] Content root path: C:\Users\Abdal\source\repos\API_HomeWork_Abdallah\API_HomeWork
2024-07-10 12:28:05.959 +03:00 [DBG] Hosting started
2024-07-10 12:28:06.296 +03:00 [DBG] Connection id "0HN50OADELTGF" accepted.
2024-07-10 12:28:06.299 +03:00 [DBG] Connection id "0HN50OADELTGF" started.
2024-07-10 12:28:06.302 +03:00 [DBG] Connection id "0HN50OADELTGF" received FIN.
2024-07-10 12:28:06.326 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 12:28:06.384 +03:00 [DBG] Connection id "0HN50OADELTGF" stopped.
2024-07-10 12:28:06.389 +03:00 [DBG] Connection id "0HN50OADELTGF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:28:06.802 +03:00 [DBG] Connection id "0HN50OADELTGG" accepted.
2024-07-10 12:28:06.804 +03:00 [DBG] Connection id "0HN50OADELTGG" started.
2024-07-10 12:28:06.874 +03:00 [DBG] Connection 0HN50OADELTGG established using the following protocol: "Tls13"
2024-07-10 12:28:06.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/index.html - null null
2024-07-10 12:28:07.073 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-07-10 12:28:07.098 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-07-10 12:28:07.100 +03:00 [DBG] Request did not match any endpoints
2024-07-10 12:28:07.203 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2024-07-10 12:28:07.207 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-07-10 12:28:07.245 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2024-07-10 12:28:07.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - null null
2024-07-10 12:28:07.248 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/_vs/browserLink - null null
2024-07-10 12:28:07.249 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-07-10 12:28:07.270 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 15.5758ms
2024-07-10 12:28:07.270 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/index.html - 200 null text/html;charset=utf-8 338.4143ms
2024-07-10 12:28:07.332 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/_vs/browserLink - 200 null text/javascript; charset=UTF-8 84.5022ms
2024-07-10 12:28:07.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - null null
2024-07-10 12:28:07.461 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-07-10 12:28:07.462 +03:00 [DBG] Request did not match any endpoints
2024-07-10 12:28:07.700 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7018/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 242.7639ms
2024-07-10 12:28:13.257 +03:00 [DBG] Connection id "0HN50OADELTGG" received FIN.
2024-07-10 12:28:13.263 +03:00 [DBG] The connection queue processing loop for 0HN50OADELTGG completed.
2024-07-10 12:28:13.267 +03:00 [DBG] Connection id "0HN50OADELTGG" is closed. The last processed stream ID was 7.
2024-07-10 12:28:13.268 +03:00 [DBG] Connection id "0HN50OADELTGG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:28:13.285 +03:00 [DBG] Connection id "0HN50OADELTGG" stopped.
2024-07-10 12:29:16.981 +03:00 [DBG] Connection id "0HN50OADELTGH" accepted.
2024-07-10 12:29:16.982 +03:00 [DBG] Connection id "0HN50OADELTGH" received FIN.
2024-07-10 12:29:16.998 +03:00 [DBG] Connection id "0HN50OADELTGH" started.
2024-07-10 12:29:16.999 +03:00 [DBG] Connection id "0HN50OADELTGI" accepted.
2024-07-10 12:29:17.010 +03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-07-10 12:29:17.010 +03:00 [DBG] Connection id "0HN50OADELTGI" started.
2024-07-10 12:29:17.013 +03:00 [DBG] Connection id "0HN50OADELTGH" stopped.
2024-07-10 12:29:17.015 +03:00 [DBG] Connection id "0HN50OADELTGH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-07-10 12:29:17.023 +03:00 [DBG] Connection 0HN50OADELTGI established using the following protocol: "Tls13"
2024-07-10 12:29:17.029 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7018/api/Hotels - application/json 155
2024-07-10 12:29:17.039 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Hotels'
2024-07-10 12:29:17.043 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)' with route pattern 'api/Hotels' is valid for the request path '/api/Hotels'
2024-07-10 12:29:17.045 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:29:17.049 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:29:17.123 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:29:17.127 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:29:17.159 +03:00 [INF] Route matched with {action = "GetHotelsWithOut", controller = "Hotels"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[API_HomeWork.Models.Hotel]]] GetHotelsWithOut() on controller API_HomeWork.Controllers.HotelsController (API_HomeWork).
2024-07-10 12:29:17.163 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:29:17.165 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:29:17.166 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:29:17.168 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:29:17.171 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:29:17.175 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:29:17.333 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-07-10 12:29:17.523 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.HotelsController (API_HomeWork)
2024-07-10 12:29:18.669 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:29:18.782 +03:00 [DBG] Compiling query expression: 
'DbSet<Hotel>()
    .Where(h => h.IsDelete == False)'
2024-07-10 12:29:19.105 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Hotel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Hotel.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Hotel.Address (string) Required, 1], [Property: Hotel.Email (string) Required, 2], [Property: Hotel.IsDelete (bool) Required, 3], [Property: Hotel.Name (string) Required, 4], [Property: Hotel.Phone (string) Required, 5] }
        SELECT h.Id, h.Address, h.Email, h.IsDelete, h.Name, h.Phone
        FROM Hotels AS h
        WHERE h.IsDelete == CAST(0 AS bit)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Hotel>, 
    HotelDataBase.HotelContext, 
    False, 
    False, 
    True
)'
2024-07-10 12:29:19.157 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:29:19.191 +03:00 [DBG] Created DbConnection. (32ms).
2024-07-10 12:29:19.197 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:29:20.048 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:29:20.054 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:29:20.060 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-07-10 12:29:20.063 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-07-10 12:29:20.071 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:29:20.124 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[Email], [h].[IsDelete], [h].[Name], [h].[Phone]
FROM [Hotels] AS [h]
WHERE [h].[IsDelete] = CAST(0 AS bit)
2024-07-10 12:29:20.191 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.219 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.221 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.223 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.224 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.226 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.228 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.230 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.232 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.234 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.236 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.238 +03:00 [DBG] Context 'HotelContext' started tracking 'Hotel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:29:20.246 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:29:20.255 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 121ms reading results.
2024-07-10 12:29:20.260 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:29:20.270 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (8ms).
2024-07-10 12:29:20.296 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:29:20.302 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:29:20.304 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:29:20.305 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:29:20.307 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-07-10 12:29:20.309 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Repositories.ModelForCreate.HotelWithOutEnyThing, Repositories, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-07-10 12:29:20.325 +03:00 [INF] Executed action API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork) in 3149.4476ms
2024-07-10 12:29:20.327 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.HotelsController.GetHotelsWithOut (API_HomeWork)'
2024-07-10 12:29:20.329 +03:00 [DBG] Connection id "0HN50OADELTGI" completed keep alive response.
2024-07-10 12:29:20.335 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:29:20.341 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:29:20.344 +03:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-07-10 12:29:20.346 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7018/api/Hotels - 200 null application/json; charset=utf-8 3316.9814ms
2024-07-10 12:29:20.352 +03:00 [DBG] Connection id "0HN50OADELTGI", Request id "0HN50OADELTGI:00000001": started reading request body.
2024-07-10 12:29:20.354 +03:00 [DBG] Connection id "0HN50OADELTGI", Request id "0HN50OADELTGI:00000001": done reading request body.
2024-07-10 12:30:09.002 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7018/api/Bookings - application/json 145
2024-07-10 12:30:09.008 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings'
2024-07-10 12:30:09.009 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork)' with route pattern 'api/Bookings' is valid for the request path '/api/Bookings'
2024-07-10 12:30:09.011 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork)'
2024-07-10 12:30:09.012 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:30:09.015 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:30:09.016 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork)'
2024-07-10 12:30:09.030 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] AddBooking(Repository.ModelForCreate.BookingForCreate) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:30:09.032 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:30:09.033 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:30:09.035 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:30:09.037 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:30:09.039 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:30:09.041 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:30:09.044 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:30:09.051 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate' ...
2024-07-10 12:30:09.057 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate' using the name '' in request data ...
2024-07-10 12:30:09.060 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:30:09.074 +03:00 [DBG] Connection id "0HN50OADELTGI", Request id "0HN50OADELTGI:00000002": started reading request body.
2024-07-10 12:30:09.076 +03:00 [DBG] Connection id "0HN50OADELTGI", Request id "0HN50OADELTGI:00000002": done reading request body.
2024-07-10 12:30:09.081 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForCreate.BookingForCreate'
2024-07-10 12:30:09.082 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate'.
2024-07-10 12:30:09.084 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate'.
2024-07-10 12:30:09.085 +03:00 [DBG] Attempting to validate the bound parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate' ...
2024-07-10 12:30:09.098 +03:00 [DBG] Done attempting to validate the bound parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate'.
2024-07-10 12:30:09.118 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:30:09.150 +03:00 [DBG] 'HotelContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:30:09.182 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:30:09.186 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:30:09.190 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:30:09.207 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:30:09.282 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:30:09.284 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:30:09.286 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:09.291 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:09.295 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:30:09.297 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:30:09.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-07-10 12:30:09.309 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bookings] ([CheckInAt], [CheckOutAt], [EmployeeId], [GuestId], [IsDelete], [Price], [RoomId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-07-10 12:30:09.394 +03:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bookings] ([CheckInAt], [CheckOutAt], [EmployeeId], [GuestId], [IsDelete], [Price], [RoomId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-07-10 12:30:09.408 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:09.411 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 13ms reading results.
2024-07-10 12:30:09.414 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:09.416 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-07-10 12:30:09.428 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HotelDataBase.HotelContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bookings_Employee_EmployeeId". The conflict occurred in database "HotelAPI_DB", table "dbo.Employee", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:e3ac3008-9483-46fc-a70b-3a15148c0afb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bookings_Employee_EmployeeId". The conflict occurred in database "HotelAPI_DB", table "dbo.Employee", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:e3ac3008-9483-46fc-a70b-3a15148c0afb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-07-10 12:30:09.650 +03:00 [FTL] Unhandled exception : erorr happend
2024-07-10 12:30:09.652 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:30:09.655 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:30:09.656 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:30:09.656 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:30:09.657 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-10 12:30:09.659 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-10 12:30:09.661 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork) in 620.1789ms
2024-07-10 12:30:09.662 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork)'
2024-07-10 12:30:09.663 +03:00 [DBG] Connection id "0HN50OADELTGI" completed keep alive response.
2024-07-10 12:30:09.664 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:30:09.666 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:09.667 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:30:09.669 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7018/api/Bookings - 500 null text/plain; charset=utf-8 667.2425ms
2024-07-10 12:30:28.494 +03:00 [INF] Request starting HTTP/1.1 POST https://localhost:7018/api/Bookings - application/json 125
2024-07-10 12:30:28.498 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Bookings'
2024-07-10 12:30:28.500 +03:00 [DBG] Endpoint 'API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork)' with route pattern 'api/Bookings' is valid for the request path '/api/Bookings'
2024-07-10 12:30:28.503 +03:00 [DBG] Request matched endpoint 'API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork)'
2024-07-10 12:30:28.504 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-07-10 12:30:28.507 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-07-10 12:30:28.508 +03:00 [INF] Executing endpoint 'API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork)'
2024-07-10 12:30:28.510 +03:00 [INF] Route matched with {action = "AddBooking", controller = "Bookings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[API_HomeWork.Models.Booking]] AddBooking(Repository.ModelForCreate.BookingForCreate) on controller API_HomeWork.Controllers.BookingsController (API_HomeWork).
2024-07-10 12:30:28.512 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-07-10 12:30:28.513 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-07-10 12:30:28.516 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-07-10 12:30:28.519 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-07-10 12:30:28.521 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-07-10 12:30:28.523 +03:00 [DBG] Executing controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:30:28.529 +03:00 [DBG] Executed controller factory for controller API_HomeWork.Controllers.BookingsController (API_HomeWork)
2024-07-10 12:30:28.532 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate' ...
2024-07-10 12:30:28.535 +03:00 [DBG] Attempting to bind parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate' using the name '' in request data ...
2024-07-10 12:30:28.539 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-07-10 12:30:28.541 +03:00 [DBG] Connection id "0HN50OADELTGI", Request id "0HN50OADELTGI:00000003": started reading request body.
2024-07-10 12:30:28.543 +03:00 [DBG] Connection id "0HN50OADELTGI", Request id "0HN50OADELTGI:00000003": done reading request body.
2024-07-10 12:30:28.546 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Repository.ModelForCreate.BookingForCreate'
2024-07-10 12:30:28.548 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate'.
2024-07-10 12:30:28.549 +03:00 [DBG] Done attempting to bind parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate'.
2024-07-10 12:30:28.552 +03:00 [DBG] Attempting to validate the bound parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate' ...
2024-07-10 12:30:28.555 +03:00 [DBG] Done attempting to validate the bound parameter 'booking' of type 'Repository.ModelForCreate.BookingForCreate'.
2024-07-10 12:30:28.646 +03:00 [DBG] Entity Framework Core 8.0.6 initialized 'HotelContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.6' with options: None
2024-07-10 12:30:28.650 +03:00 [DBG] 'HotelContext' generated a temporary value for the property 'Booking.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:30:28.654 +03:00 [DBG] Context 'HotelContext' started tracking 'Booking' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-07-10 12:30:28.655 +03:00 [DBG] SaveChanges starting for 'HotelContext'.
2024-07-10 12:30:28.659 +03:00 [DBG] DetectChanges starting for 'HotelContext'.
2024-07-10 12:30:28.661 +03:00 [DBG] DetectChanges completed for 'HotelContext'.
2024-07-10 12:30:28.664 +03:00 [DBG] Creating DbConnection.
2024-07-10 12:30:28.665 +03:00 [DBG] Created DbConnection. (1ms).
2024-07-10 12:30:28.666 +03:00 [DBG] Opening connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:28.668 +03:00 [DBG] Opened connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:28.670 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-07-10 12:30:28.672 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-07-10 12:30:28.673 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-07-10 12:30:28.675 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bookings] ([CheckInAt], [CheckOutAt], [EmployeeId], [GuestId], [IsDelete], [Price], [RoomId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-07-10 12:30:28.692 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Bookings] ([CheckInAt], [CheckOutAt], [EmployeeId], [GuestId], [IsDelete], [Price], [RoomId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-07-10 12:30:28.696 +03:00 [DBG] Closing data reader to 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:28.697 +03:00 [DBG] A data reader for 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' is being disposed after spending 2ms reading results.
2024-07-10 12:30:28.699 +03:00 [DBG] Closing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:28.702 +03:00 [DBG] Closed connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB' (2ms).
2024-07-10 12:30:28.705 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'HotelDataBase.HotelContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bookings_Employee_EmployeeId". The conflict occurred in database "HotelAPI_DB", table "dbo.Employee", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:e3ac3008-9483-46fc-a70b-3a15148c0afb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Bookings_Employee_EmployeeId". The conflict occurred in database "HotelAPI_DB", table "dbo.Employee", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.Read()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDataReader.Read()
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
ClientConnectionId:e3ac3008-9483-46fc-a70b-3a15148c0afb
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSet(Int32 startCommandIndex, RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.Consume(RelationalDataReader reader)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(StateManager stateManager, Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.<>c.<SaveChanges>b__112_0(DbContext _, ValueTuple`2 t)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2024-07-10 12:30:28.766 +03:00 [FTL] Unhandled exception : erorr happend
2024-07-10 12:30:28.767 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-07-10 12:30:28.770 +03:00 [DBG] No information found on request to perform content negotiation.
2024-07-10 12:30:28.771 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-07-10 12:30:28.772 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-07-10 12:30:28.773 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-07-10 12:30:28.774 +03:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2024-07-10 12:30:28.776 +03:00 [INF] Executed action API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork) in 252.6599ms
2024-07-10 12:30:28.777 +03:00 [INF] Executed endpoint 'API_HomeWork.Controllers.BookingsController.AddBooking (API_HomeWork)'
2024-07-10 12:30:28.778 +03:00 [DBG] Connection id "0HN50OADELTGI" completed keep alive response.
2024-07-10 12:30:28.780 +03:00 [DBG] 'HotelContext' disposed.
2024-07-10 12:30:28.781 +03:00 [DBG] Disposing connection to database 'HotelAPI_DB' on server '(localdb)\MSSQLLocalDB'.
2024-07-10 12:30:28.783 +03:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-07-10 12:30:28.785 +03:00 [INF] Request finished HTTP/1.1 POST https://localhost:7018/api/Bookings - 500 null text/plain; charset=utf-8 291.3014ms
